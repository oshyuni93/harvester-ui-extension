(("undefined"!==typeof self?self:this)["webpackChunkharvester_1_5_0"]=("undefined"!==typeof self?self:this)["webpackChunkharvester_1_5_0"]||[]).push([[907],{289:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("LabeledSelect"),d=(0,o.resolveComponent)("Banner"),u=(0,o.resolveComponent)("AsyncButton"),m=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(m,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.restore.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.backupName,"onUpdate:value":t[0]||(t[0]=e=>l.backupName=e),label:e.t("harvester.modal.restore.selectBackup"),"localized-label":!0,options:c.backupOption,required:""},null,8,["value","label","options"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(d,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(u,{mode:"create",disabled:!l.backupName,onClick:c.saveRestore},null,8,["disabled","onClick"])])])])),_:1})}var l=a(65359),c=a(92043),i=a(88339),d=a(99726),u=a(84937),m=a(9980),h=a(89651),p=a(8077),v=a(32766),b={name:"HarvesterRestoreModal",emits:["close"],components:{AsyncButton:h.A,Banner:m.l,Card:u.Z,LabeledSelect:p.A},async fetch(){const e=await(0,i.kR)({backups:this.$store.dispatch("harvester/findAll",{type:v.rk.BACKUP})});this.backups=e.backups},props:{resources:{type:Array,required:!0}},data(){return{backups:[],backupName:"",errors:[]}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},backupOption(){const e=this.backups.filter((e=>e.attachVM===this.actionResource?.metadata?.name));return e.map((e=>({value:e.metadata.name,label:e.metadata.name})))}},methods:{close(){this.backupName="",this.errors=[],this.$emit("close")},async saveRestore(e){const t=`restore-${this.backupName}-${(0,c.vx)(5).toLowerCase()}`;if(!this.backupName)return this["errors"]=[this.t("harvester.modal.restore.message.backup")],void e(!1);try{const a=await this.actionResource.doAction("restore",{backupName:this.backupName,name:t},{},!1);if(200===a._status||204===a._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.restore.success",{name:this.backupName})},{root:!0}),this.close(),e(!0);else{const t=[a?.data]||0;this["errors"]=t,e(!1)}}catch(a){const t=a?.data||a,o=(0,d.rz)(t);this["errors"]=o,e(!1)}}}},f=(a(46545),a(47433));const y=(0,f.A)(b,[["render",n],["__scopeId","data-v-5004de14"]]);var g=y},500:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-b3c709f8],.buttons[data-v-b3c709f8]{width:100%}.buttons[data-v-b3c709f8]{display:flex;justify-content:flex-end}",""]),t["default"]=l},1459:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("LabeledSelect"),d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.exportImage.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.namespace,"onUpdate:value":t[0]||(t[0]=e=>l.namespace=e),label:e.t("harvester.modal.exportImage.namespace"),options:c.namespaces,class:"mb-20",required:""},null,8,["value","label","options"]),(0,o.createVNode)(d,{value:l.name,"onUpdate:value":t[1]||(t[1]=e=>l.name=e),label:e.t("harvester.modal.exportImage.name"),required:""},null,8,["value","label"]),(0,o.createVNode)(i,{value:l.storageClassName,"onUpdate:value":t[2]||(t[2]=e=>l.storageClassName=e),options:c.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),class:"mt-20",required:""},null,8,["value","options","label"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[3]||(t[3]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create",disabled:c.disableSave,onClick:c.save},null,8,["disabled","onClick"])])])])),_:1})}var l=a(65359),c=a(99726),i=a(74302),d=a(84937),u=a(9980),m=a(89651),h=a(79380),p=a(8077),v=a(35664),b=a(88339),f={name:"HarvesterExportImageDialog",emits:["close"],components:{AsyncButton:m.A,Banner:u.l,Card:d.Z,LabeledInput:h.o,LabeledSelect:p.A},props:{resources:{type:Array,required:!0}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={storages:this.$store.dispatch(`${e}/findAll`,{type:v.fJ})};await(0,b.kR)(t);const a=this.allStorageClasses,o=a.find((e=>e.isDefault));this.isLonghornV1Volume?this["storageClassName"]=o?.metadata?.name||"longhorn":this["storageClassName"]=this.nonLonghornV1StorageClasses[0]?.metadata?.name||""},data(){const e=this.$store.getters["defaultNamespace"]||"";return{name:"",namespace:e,storageClassName:"",errors:[]}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]||{}},namespaces(){const e=this.$store.getters["harvester/all"](v.CU).filter((e=>!e.isSystem)),t=(0,i.Ul)(e.map((e=>({label:e.nameDisplay,value:e.id}))),"label");return t},isLonghornV1Volume(){return!0===this.actionResource?.isLonghornV1},disableSave(){return!(this.name&&this.namespace&&this.storageClassName)},allStorageClasses(){const e=this.$store.getters["currentProduct"].inStore;return this.$store.getters[`${e}/all`](v.fJ)||[]},nonLonghornV1StorageClasses(){return this.allStorageClasses.filter((e=>!1===e.isLonghornV1))||[]},storageClassOptions(){let e=this.allStorageClasses;this.isLonghornV1Volume||(e=this.allStorageClasses.filter((e=>!1===e.isLonghornV1)));const t=e.filter((e=>!e.parameters?.backingImage)).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return t}},methods:{close(){this.name="",this.namespace="",this.storageClassName="",this.$emit("close")},async save(e){try{const t=await this.actionResource.doAction("export",{displayName:this.name,namespace:this.namespace,storageClassName:this.storageClassName});if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.exportImage.message.success",{name:this.name})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}}},y=(a(10370),a(47433));const g=(0,y.A)(f,[["render",n],["__scopeId","data-v-09ad5262"]]);var C=g},2004:function(e,t,a){var o=a(500);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("daeb8108",o,!0,{sourceMap:!1,shadowMode:!1})},3352:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"text-info mb-10"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("Checkbox"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.ejectCDROM.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",s,(0,o.toDisplayString)(e.t("harvester.modal.ejectCDROM.operationTip")),1),(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.allDisk,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(d,{key:t,value:e.value,"onUpdate:value":t=>e.value=t,label:e.name},null,8,["value","onUpdate:value","label"])))),128))]),(0,o.createVNode)(u,{color:"warning"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(e.t("harvester.modal.ejectCDROM.warnTip")),1)])),_:1}),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"delete",disabled:!c.diskNames.length,class:"btn bg-error ml-10",onClick:i.remove},null,8,["disabled","onClick"])])])])),_:1})}var c=a(65359),i=a(84937),d=a(9980),u=a(89651),m=a(42200),h=a(99726),p={name:"HarvesterEjectCDROMModal",emits:["close"],components:{AsyncButton:u.A,Card:i.Z,Checkbox:m.S,Banner:d.l},props:{resources:{type:Array,required:!0}},data(){const e=[],t=this.resources[0].spec.template.spec.domain.devices.disks;return Array.isArray(t)&&t.forEach((t=>{t.cdrom&&e.push({name:t.name,value:!1})})),{allDisk:e,errors:[],diskNames:[]}},computed:{...(0,c.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},isDeleteDisabled(){return 0===this.diskNames.length}},methods:{updateNames(e){this.diskNames=e},async remove(e){try{await this.actionResource.doAction("ejectCdRom",{diskNames:this.diskNames}),this.close(),e(!0)}catch(t){const a=t?.data||t,o=(0,h.rz)(a);this["errors"]=o,e(!1)}},close(){this.backupName="",this.errors=[],this.$emit("close")}},watch:{allDisk:{handler(e){const t=[];e.forEach((e=>{e.value&&t.push(e.name)})),this["diskNames"]=t},deep:!0}}},v=(a(81600),a(47433));const b=(0,v.A)(p,[["render",l],["__scopeId","data-v-1730b7fd"]]);var f=b},4642:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var o=a(9274);const s={class:"buttons"};function r(e,t,a,r,n,l){const c=(0,o.resolveComponent)("Checkbox"),i=(0,o.resolveComponent)("LabeledInput"),d=(0,o.resolveComponent)("AsyncButton"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(m,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.cloneVM.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(c,{value:n.cloneData,"onUpdate:value":t[0]||(t[0]=e=>n.cloneData=e),class:"mb-10","label-key":"harvester.modal.cloneVM.type"},null,8,["value"]),(0,o.withDirectives)((0,o.createVNode)(i,{value:n.name,"onUpdate:value":t[1]||(t[1]=e=>n.name=e),class:"mb-20",label:e.t("harvester.modal.cloneVM.name"),required:""},null,8,["value","label"]),[[o.vShow,n.cloneData]])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[2]||(t[2]=(...e)=>l.close&&l.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(d,{mode:"create","action-label":n.cloneData?e.t("harvester.modal.cloneVM.action.create"):e.t("harvester.modal.cloneVM.action.clone"),disabled:n.cloneData&&!n.name,onClick:l.create},null,8,["action-label","disabled","onClick"])]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t})))),128))])),_:1})}var n=a(99726),l=a(65359),c=a(84937),i=a(9980),d=a(42200),u=a(89651),m=a(79380),h={name:"CloneVMModal",emits:["close"],components:{AsyncButton:u.A,Banner:i.l,Checkbox:d.S,Card:c.Z,LabeledInput:m.o},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[]}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.name="",this.$emit("close")},async create(e){if(!this.cloneData)return this.resources[0].goToClone(),e(!1),void this.close();try{const t=await this.actionResource.doAction("clone",{targetVm:this.name},{},!1);if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.cloneVM.message.success",{name:this.name})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,n.rz)(a);this["errors"]=o,e(!1)}}}},p=(a(23819),a(47433));const v=(0,p.A)(h,[["render",r],["__scopeId","data-v-2bfd791b"]]);var b=v},5376:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-1730b7fd],.buttons[data-v-1730b7fd]{width:100%}.buttons[data-v-1730b7fd]{display:flex;justify-content:flex-end}",""]),t["default"]=l},5783:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-45003f26],.buttons[data-v-45003f26]{width:100%}.buttons[data-v-45003f26]{display:flex;justify-content:flex-end}",""]),t["default"]=l},6135:function(e,t,a){var o=a(5783);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("55bd0654",o,!0,{sourceMap:!1,shadowMode:!1})},8715:function(e,t,a){var o=a(49899);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("090c49e9",o,!0,{sourceMap:!1,shadowMode:!1})},9759:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".restart-modal[data-v-0f53a5eb]{z-index:45}.prompt-restart[data-v-0f53a5eb]{margin:0}.bottom[data-v-0f53a5eb]{display:flex;flex-direction:column;flex:1}.bottom .banner[data-v-0f53a5eb]{margin-top:0}.bottom .buttons[data-v-0f53a5eb]{display:flex;justify-content:flex-end;width:100%}",""]),t["default"]=l},10370:function(e,t,a){var o=a(60834);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("5f24e301",o,!0,{sourceMap:!1,shadowMode:!1})},10865:function(e,t,a){var o=a(31409);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("8948f2e0",o,!0,{sourceMap:!1,shadowMode:!1})},11435:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".copy-to-clipboard-text[data-v-59e97770]{white-space:nowrap}.copy-to-clipboard-text.plain[data-v-59e97770]{color:var(--body-text)}.copy-to-clipboard-text.plain[data-v-59e97770]:hover{text-decoration:none}.copy-to-clipboard-text.copied[data-v-59e97770]{pointer-events:none;color:var(--success)}",""]),t["default"]=l},13503:function(e,t,a){var o=a(9759);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("54300e05",o,!0,{sourceMap:!1,shadowMode:!1})},15011:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-c0ceac3e],.buttons[data-v-c0ceac3e]{width:100%}.buttons[data-v-c0ceac3e]{display:flex;justify-content:flex-end}",""]),t["default"]=l},17674:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-75045b56],.buttons[data-v-75045b56]{width:100%}.buttons[data-v-75045b56]{display:flex;justify-content:flex-end}",""]),t["default"]=l},21200:function(e,t,a){var o=a(45232);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("5ee00e83",o,!0,{sourceMap:!1,shadowMode:!1})},22466:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var o=a(9274);const s={class:"buttons"};function r(e,t,a,r,n,l){const c=(0,o.resolveComponent)("Banner"),i=(0,o.resolveComponent)("LabeledSelect"),d=(0,o.resolveComponent)("AsyncButton"),u=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(u,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.migration.title")),1)])),body:(0,o.withCtx)((()=>[l.actionResource?.isCpuPinning?((0,o.openBlock)(),(0,o.createBlock)(c,{key:0,color:"warning",label:l.cpuPinningAlertMessage},null,8,["label"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(i,{value:n.nodeName,"onUpdate:value":t[0]||(t[0]=e=>n.nodeName=e),label:e.t("harvester.modal.migration.fields.nodeName.label"),placeholder:e.t("harvester.modal.migration.fields.nodeName.placeholder"),options:l.nodeNameList},null,8,["value","label","placeholder","options"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(c,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>l.close&&l.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(d,{mode:"apply",disabled:!n.nodeName,onClick:l.apply},null,8,["disabled","onClick"])])])),_:1})}var n=a(65359),l=a(35664),c=a(99726),i=a(2602),d=a(84937),u=a(9980),m=a(89651),h=a(8077),p=a(32766),v={emits:["close"],components:{AsyncButton:m.A,Banner:u.l,Card:d.Z,LabeledSelect:h.A},props:{resources:{type:Array,required:!0}},async fetch(){try{if(!this.actionResource.hasAction("findMigratableNodes"))return;const e=await this.actionResource.$dispatch("resourceAction",{resource:this.actionResource,actionName:"findMigratableNodes",body:{},opt:{}});this.availableNodes=e.nodes}catch(e){this.actionResource.$dispatch("growl/fromError",{title:this.t("generic.notification.title.error"),err:e.data||e},{root:!0})}},data(){return{nodeName:"",errors:[],availableNodes:[]}},computed:{...(0,n.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},vmi(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](p.rk.VMI),a=t.find((e=>e.id===this.actionResource?.id))||null;return a},cpuPinningAlertMessage(){return this.t("harvester.virtualMachine.cpuPinning.migrationMessage")},nodeNameList(){const e=this.$store.getters["harvester/all"](l.NW);return e.filter((e=>{const t=!!this.availableNodes.includes(e.id),a="true"!==e.isEtcd,o=this.actionResource?.isCpuPinning,s=!o||e.isCPUManagerEnabled;return t&&a&&s})).map((e=>{let t=e?.metadata?.name;const a=e?.metadata?.name,o=e?.metadata?.annotations?.[i.r.HOST_CUSTOM_NAME];return o&&(t=o),{label:t,value:a}}))}},methods:{close(){this.nodeName="",this.errors=[],this.$emit("close")},async apply(e){if(this.actionResource){if(!this.nodeName){const t=this.$store.getters["i18n/t"]("harvester.modal.migration.fields.nodeName.label"),a=this.$store.getters["i18n/t"]("validation.required",{key:t});return this["errors"]=[a],void e(!1)}try{await this.actionResource.doAction("migrate",{nodeName:this.nodeName},{},!1),e(!0),this.close()}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}else e(!1)}}},b=(a(81912),a(47433));const f=(0,b.A)(v,[["render",r],["__scopeId","data-v-fbf444ca"]]);var y=f},22512:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("LabeledSelect"),d=(0,o.resolveComponent)("Banner"),u=(0,o.resolveComponent)("AsyncButton"),m=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(m,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.migration.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.clusterNetwork,"onUpdate:value":t[0]||(t[0]=e=>l.clusterNetwork=e),label:e.t("harvester.harvesterVlanConfigMigrateDialog.targetClusterNetwork.label"),placeholder:e.t("harvester.harvesterVlanConfigMigrateDialog.targetClusterNetwork.placeholder"),options:c.clusterNetworks},null,8,["value","label","placeholder","options"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(d,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(u,{mode:"apply",disabled:!l.clusterNetwork,onClick:c.apply},null,8,["disabled","onClick"])])])])),_:1})}var l=a(65359),c=a(32766),i=a(99726),d=a(76978),u=a(84937),m=a(9980),h=a(89651),p=a(8077),v={emits:["close"],components:{AsyncButton:h.A,Banner:m.l,Card:u.Z,LabeledSelect:p.A},props:{resources:{type:Array,required:!0}},data(){return{clusterNetwork:"",errors:[]}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},clusterNetworks(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](c.rk.CLUSTER_NETWORK);return t.filter((e=>e.id!==this.actionResource.spec?.clusterNetwork&&"mgmt"!==e.id)).map((e=>{const t=e.id,a=e.id;return{label:t,value:a}}))}},methods:{close(){this.nodeName="",this.errors=[],this.$emit("close")},async apply(e){try{const t=(0,d.o8)(this.actionResource);t.spec.clusterNetwork=this.clusterNetwork,await this.$store.dispatch("harvester/request",{url:`/v1/harvester/${c.rk.VLAN_CONFIG}s/${t.id}`,method:"PUT",data:t}),e(!0),this.close()}catch(t){const a=t?.data||t,o=(0,i.rz)(a);this["errors"]=o,e(!1)}}}},b=(a(99402),a(47433));const f=(0,b.A)(v,[["render",n],["__scopeId","data-v-75045b56"]]);var y=f},23819:function(e,t,a){var o=a(54091);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("0d6331e5",o,!0,{sourceMap:!1,shadowMode:!1})},24384:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var o=a(9274);const s={class:"vm-list mb-5"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("Checkbox"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("BadgeState"),h=(0,o.resolveComponent)("AsyncButton"),p=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(p,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.host.enableMaintenance.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(d,{value:c.force,"onUpdate:value":[t[0]||(t[0]=e=>c.force=e),i.onInputForce],"label-key":"harvester.host.enableMaintenance.force"},null,8,["value","onUpdate:value"])]),(0,o.createVNode)(u,{color:"warning",label:e.t("harvester.host.enableMaintenance.protip")},null,8,["label"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:i.ucFirst(e)},null,8,["label"])))),128)),c.force?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,class:"mt-0",color:"warning","label-key":"harvester.host.enableMaintenance.shutDownVMs"})),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.unhealthyVMs,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t},[(0,o.createVNode)(u,{color:"error mt-0 mb-5"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("p",null,(0,o.toDisplayString)(i.ucFirst(e.message)),1)])),_:2},1024),(0,o.createElementVNode)("div",s,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.vms,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(m,{key:t,color:"bg-error mb-5 mr-5",label:e},null,8,["label"])))),128))])])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(h,{mode:"apply",onClick:i.apply},null,8,["onClick"])])])])),_:1})}var c=a(65359),i=a(89651),d=a(84937),u=a(9980),m=a(42200),h=(a(99726),a(87102)),p=a(92043),v={emits:["close"],components:{Card:d.Z,Checkbox:m.S,AsyncButton:i.A,Banner:u.l,BadgeState:h.j},props:{resources:{type:Array,required:!0}},data(){return{errors:[],unhealthyVMs:[],force:!1}},computed:{...(0,c.L8)({t:"i18n/t"}),improveMaintenanceModeFeatureEnabled(){return this.$store.getters["harvester-common/getFeatureEnabled"]("improveMaintenanceMode")},actionResource(){return this.resources[0]}},methods:{ucFirst:p.TF,onInputForce(e){e&&(this.unhealthyVMs=[])},close(){this.$emit("close")},async apply(e){this.errors=[],this.unhealthyVMs=[];try{const t=await this.actionResource.doAction("maintenancePossible");if(this.force)200===t._status||204===t._status?(await this.actionResource.doAction("enableMaintenanceMode",{force:"true"}),e(!0),this.close()):e(!1);else if(200===t._status||204===t._status){const t=await this.actionResource.doAction("listUnhealthyVM");let a=t;this.improveMaintenanceModeFeatureEnabled||(a=t.message?[t]:[]),a?.length?(this.unhealthyVMs=a,e(!1)):(await this.actionResource.doAction("enableMaintenanceMode",{force:"false"}),e(!0),this.close())}else e(!1)}catch(t){const a=[t?.data]||0;this.errors=a,e(!1)}}}},b=(a(10865),a(47433));const f=(0,b.A)(v,[["render",l],["__scopeId","data-v-f2cea8a0"]]);var y=f},24738:function(e,t,a){var o=a(63330);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("f98e315a",o,!0,{sourceMap:!1,shadowMode:!1})},29715:function(e,t,a){var o=a(62035);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("b851316a",o,!0,{sourceMap:!1,shadowMode:!1})},29905:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("t"),u=(0,o.resolveComponent)("AsyncButton"),m=(0,o.resolveComponent)("Card"),h=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(m,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[h,e.t("promptRemove.title")]])])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{k:"harvester.usb.enablePassthroughWarning",raw:!0})])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(u,{mode:"enable",onClick:i.save},null,8,["onClick"])])])])),_:1})}var c=a(65359),i=a(84937),d=a(89651),u=a(92043),m=a(32766),h={name:"HarvesterEnableUSBPassthrough",emits:["close"],components:{AsyncButton:d.A,Card:i.Z},props:{resources:{type:Array,required:!0}},data(){return{}},computed:{...(0,c.L8)({t:"i18n/t"})},methods:{close(){this.$emit("close")},async save(e){const t=this.$store.getters["isSingleProduct"];let a="admin";if(!t){const e=this.$store.getters["auth/v3User"];a=e?.username||e?.id}for(let s=0;s<this.resources.length;s++){const t=this.resources[s],r=this.$store.getters["currentProduct"].inStore,n=await this.$store.dispatch(`${r}/create`,{type:m.rk.USB_CLAIM,metadata:{name:t.metadata.name,ownerReferences:[{apiVersion:"devices.harvesterhci.io/v1beta1",kind:"USBDevice",name:t.metadata.name,uid:t.metadata.uid}]},spec:{pciAddress:t.status.pciAddress,nodeName:t.status.nodeName,userName:a}});try{await n.save(),e(!0),this.close()}catch(o){this.$store.dispatch("growl/fromError",{title:this.t("harvester.usb.claimError",{name:(0,u.ZD)(t.metadata.name)}),err:o},{root:!0}),e(!1)}}}}},p=(a(34661),a(47433));const v=(0,p.A)(h,[["render",l],["__scopeId","data-v-0cd7660b"]]);var b=v},30211:function(e,t,a){var o=a(15011);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("5d487adf",o,!0,{sourceMap:!1,shadowMode:!1})},30705:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-5004de14],.buttons[data-v-5004de14]{width:100%}.buttons[data-v-5004de14]{display:flex;justify-content:flex-end}",""]),t["default"]=l},31223:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("Checkbox"),d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.createTemplate.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.withData,"onUpdate:value":t[0]||(t[0]=e=>l.withData=e),class:"mb-10",label:"With Data"},null,8,["value"]),(0,o.createVNode)(d,{value:l.templateName,"onUpdate:value":t[1]||(t[1]=e=>l.templateName=e),class:"mb-20",label:e.t("harvester.modal.createTemplate.name"),required:""},null,8,["value","label"]),(0,o.createVNode)(d,{value:l.description,"onUpdate:value":t[2]||(t[2]=e=>l.description=e),label:e.t("harvester.modal.createTemplate.description")},null,8,["value","label"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[3]||(t[3]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create",disabled:!l.templateName,onClick:c.save},null,8,["disabled","onClick"])])])])),_:1})}var l=a(99726),c=a(65359),i=a(84937),d=a(9980),u=a(42200),m=a(89651),h=a(79380),p={name:"HarvesterCloneTemplateModal",emits:["close"],components:{AsyncButton:m.A,Banner:d.l,Card:i.Z,Checkbox:u.S,LabeledInput:h.o},props:{resources:{type:Array,required:!0}},data(){return{templateName:"",description:"",withData:!1,errors:[]}},computed:{...(0,c.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.templateName="",this.description="",this.$emit("close")},async save(e){try{const t=await this.actionResource.doAction("createTemplate",{name:this.templateName,description:this.description,withData:this.withData},{},!1);if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.createTemplate.message.success",{templateName:this.templateName})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,l.rz)(a);this["errors"]=o,e(!1)}}}},v=(a(21200),a(47433));const b=(0,v.A)(p,[["render",n],["__scopeId","data-v-528148c0"]]);var f=b},31409:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-f2cea8a0]{width:100%}.vm-list[data-v-f2cea8a0]{display:flex;flex-wrap:wrap}.buttons[data-v-f2cea8a0]{display:flex;justify-content:flex-end;width:100%}",""]),t["default"]=l},31624:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("Banner"),u=(0,o.resolveComponent)("UnitInput"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card"),p=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[p,e.t("harvester.modal.quota.editQuota")]])])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.quota.bannerMessage")),1)])),_:1}),(0,o.createVNode)(u,{value:c.totalSnapshotSize,"onUpdate:value":t[0]||(t[0]=e=>c.totalSnapshotSize=e),label:e.t("harvester.snapshot.totalSnapshotSize"),disabled:!1,"input-exponent":3,increment:1024,"output-modifier":!0,suffix:c.GIBIBYTE,class:"mb-20"},null,8,["value","label","suffix"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(d,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{onClick:i.save},null,8,["onClick"])])])])),_:1})}var c=a(65359),i=a(84937),d=a(9980),u=a(89651),m=a(55998),h=a(99726),p=a(84757),v={name:"HarvesterVMQuotaDialog",components:{AsyncButton:u.A,Card:i.Z,UnitInput:m.A,Banner:d.l},props:{resources:{type:Array,required:!0}},created(){this.totalSnapshotSize=this.modalData.snapshotSizeQuota},data(){return{GIBIBYTE:p.Wl,totalSnapshotSize:"",errors:[]}},computed:{...(0,c.aH)("action-menu",["modalData"]),...(0,c.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.totalSnapshotSize="",this.$emit("close")},async save(e){try{null===this.totalSnapshotSize||"0Gi"===this.totalSnapshotSize?await this.actionResource.doAction("deleteResourceQuota"):await this.actionResource.doAction("updateResourceQuota",{totalSnapshotSizeQuota:this.totalSnapshotSize}),this.close(),e(!0)}catch(t){const a=t?.data||t,o=(0,h.rz)(a);this["errors"]=o,e(!1)}}}},b=(a(30211),a(47433));const f=(0,b.A)(v,[["render",l],["__scopeId","data-v-c0ceac3e"]]);var y=f},33228:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-0958580f],.buttons[data-v-0958580f]{width:100%}.buttons[data-v-0958580f]{display:flex;justify-content:flex-end}",""]),t["default"]=l},33494:function(e,t,a){"use strict";a.d(t,{A:function(){return m}});var o=a(9274);const s=["aria-label"],r=["alt"];function n(e,t,a,n,l,c){return a.text?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,class:(0,o.normalizeClass)(["copy-to-clipboard-text",{copied:l.copied,plain:a.plain}]),role:"button","aria-label":e.t("generic.copyToClipboard"),href:"#",onClick:t[0]||(t[0]=(...e)=>c.clicked&&c.clicked(...e)),onKeyup:t[1]||(t[1]=(0,o.withKeys)(((...e)=>c.clicked&&c.clicked(...e)),["space"]))},[(0,o.createTextVNode)((0,o.toDisplayString)(a.text)+" ",1),(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(["icon",{"icon-copy":!l.copied,"icon-checkmark":l.copied}]),alt:l.copied?e.t("generic.copiedToClipboard"):e.t("generic.copyToClipboard")},null,10,r)],42,s)):(0,o.createCommentVNode)("",!0)}var l=a(48881),c=a(99726),i={emits:["error"],props:{text:{type:String,required:!0},plain:{type:Boolean,default:!1}},data(){return{copied:!1}},methods:{clicked(e){this.copied||(e.preventDefault(),(0,l.e)(this.text).then((()=>{this.copied=!0;let t=e.target;"I"===t.tagName&&(t=t.parentElement||t),setTimeout((()=>{this.copied=!1}),500)})).catch((e=>{this.$emit("error",(0,c.rz)(e))})))}}},d=(a(61675),a(47433));const u=(0,d.A)(i,[["render",n],["__scopeId","data-v-59e97770"]]);var m=u},34661:function(e,t,a){var o=a(46853);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("fdfdda18",o,!0,{sourceMap:!1,shadowMode:!1})},35676:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("LabeledSelect"),m=(0,o.resolveComponent)("Banner"),h=(0,o.resolveComponent)("AsyncButton"),p=(0,o.resolveComponent)("Card"),v=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(p,{ref:"modal",name:"modal","show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[v,e.t("harvester.modal.hotplug.title")]])])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{value:c.diskName,"onUpdate:value":t[0]||(t[0]=e=>c.diskName=e),label:e.t("generic.name"),required:""},null,8,["value","label"]),(0,o.createVNode)(u,{value:c.volumeName,"onUpdate:value":t[1]||(t[1]=e=>c.volumeName=e),label:e.t("harvester.fields.volume"),options:i.volumeOption,class:"mt-20",required:""},null,8,["value","label","options"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(m,{key:t,label:e,color:"error"},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-secondary mr-10",onClick:t[2]||(t[2]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(h,{mode:"apply",disabled:!c.diskName||!c.volumeName,onClick:i.save},null,8,["disabled","onClick"])])])])),_:1},512)}var c=a(99726),i=a(74302),d=a(65359),u=a(35664),m=a(2602),h=a(84937),p=a(9980),v=a(89651),b=a(79380),f=a(8077),y={name:"HotplugModal",emits:["close"],components:{AsyncButton:v.A,Card:h.Z,LabeledInput:b.o,LabeledSelect:f.A,Banner:p.l},props:{resources:{type:Array,required:!0}},async fetch(){this.allPVCs=await this.$store.dispatch("harvester/findAll",{type:u.YH})},data(){return{diskName:"",volumeName:"",errors:[],allPVCs:[]}},computed:{...(0,d.L8)({t:"i18n/t"}),PVCs(){return this.allPVCs.filter((e=>this.actionResource.metadata.namespace===e.metadata.namespace))||[]},actionResource(){return this.resources[0]},volumeOption(){return(0,i.Ul)(this.PVCs.filter((e=>!e.metadata?.annotations?.[m.r.IMAGE_ID]&&(!e.isGoldenImageVolume&&!e.attachVM))).map((e=>({label:e.metadata.name,value:e.metadata.name}))),"label")}},methods:{close(){this.diskName="",this.volumeName="",this.$emit("close")},async save(e){if(this.actionResource)try{const t=await this.actionResource.doAction("addVolume",{volumeSourceName:this.volumeName,diskName:this.diskName},{},!1);if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.hotplug.success",{diskName:this.diskName,vm:this.actionResource.nameDisplay})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}}},g=(a(64859),a(47433));const C=(0,g.A)(y,[["render",l],["__scopeId","data-v-3653ff12"]]);var k=C},36894:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("Banner"),u=(0,o.resolveComponent)("AsyncButton"),m=(0,o.resolveComponent)("Card"),h=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(m,{ref:"modal",name:"modal","show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[h,e.t("harvester.virtualMachine.unplug.title",{name:i.diskName})]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(d,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(u,{mode:"apply","action-label":e.t("harvester.virtualMachine.unplug.actionLabel"),"waiting-label":e.t("harvester.virtualMachine.unplug.actionLabel"),"success-label":e.t("harvester.virtualMachine.unplug.actionLabel"),onClick:i.save},null,8,["action-label","waiting-label","success-label","onClick"])])])])),_:1},512)}var c=a(65359),i=a(99726),d=a(84937),u=a(9980),m=a(89651),h={name:"HarvesterHotUnplugModal",emits:["close"],components:{AsyncButton:m.A,Card:d.Z,Banner:u.l},props:{resources:{type:Array,required:!0}},data(){return{errors:[]}},computed:{...(0,c.aH)("action-menu",["modalData"]),...(0,c.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},diskName(){return this.modalData.diskName}},methods:{close(){this.$emit("close")},async save(e){try{const t=await this.actionResource.doAction("removeVolume",{diskName:this.diskName});if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.hotunplug.success",{name:this.diskName})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,i.rz)(a);this["errors"]=o,e(!1)}}}},p=(a(81196),a(47433));const v=(0,p.A)(h,[["render",l],["__scopeId","data-v-c332cc84"]]);var b=v},39058:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("LabeledInput"),d=(0,o.resolveComponent)("LabeledSelect"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.restoreSnapshot.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.name,"onUpdate:value":t[0]||(t[0]=e=>l.name=e),label:e.t("harvester.modal.restoreSnapshot.name"),required:""},null,8,["value","label"]),c.showStorageClass?((0,o.openBlock)(),(0,o.createBlock)(d,{key:0,value:l.storageClassName,"onUpdate:value":t[1]||(t[1]=e=>l.storageClassName=e),options:c.storageClassOptions,label:e.t("harvester.storage.storageClass.label"),class:"mt-20",required:""},null,8,["value","options","label"])):(0,o.createCommentVNode)("",!0),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[2]||(t[2]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create",disabled:c.disableSave,onClick:c.save},null,8,["disabled","onClick"])])])])),_:1})}var l=a(65359),c=a(99726),i=a(84937),d=a(9980),u=a(89651),m=a(79380),h=a(8077),p=a(2602),v=a(88339),b=a(35664),f={name:"HarvesterRestoreSnapshotDialog",emits:["close"],components:{AsyncButton:u.A,Banner:d.l,Card:i.Z,LabeledInput:m.o,LabeledSelect:h.A},props:{resources:{type:Array,required:!0}},data(){return{name:"",errors:[],storageClassName:""}},async fetch(){const e=this.$store.getters["currentProduct"].inStore,t={storages:this.$store.dispatch(`${e}/findAll`,{type:b.fJ})};if(await(0,v.kR)(t),this.showStorageClass){const t=this.$store.getters[`${e}/all`](b.fJ).find((e=>e.isDefault)),a=this.resources[0].metadata?.annotations[p.r.STORAGE_CLASS];this["storageClassName"]=a||t?.metadata?.name||"longhorn"}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]||{}},disableSave(){return!(this.name&&(!this.showStorageClass||this.storageClassName))},storageClassOptions(){const e=this.$store.getters["currentProduct"].inStore,t=this.$store.getters[`${e}/all`](b.fJ),a=t.filter((e=>!e.parameters?.backingImage)).filter((e=>e.provisioner===this.actionResource.metadata?.annotations[p.r.STORAGE_PROVISIONER])).map((e=>{const t=e.isDefault?`${e.name} (${this.t("generic.default")})`:e.name;return{label:t,value:e.name}}))||[];return a},showStorageClass(){return"data"===this.actionResource?.volume?.source}},methods:{close(){this.name="",this.storageClassName="",this.$emit("close")},async save(e){try{const t={name:this.name};this.showStorageClass&&(t.storageClassName=this.storageClassName);const a=await this.actionResource.doAction("restore",t);if(200===a._status||204===a._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.restoreSnapshot.success",{name:this.name})},{root:!0}),this.close(),e(!0);else{const t=[a?.data]||0;this["errors"]=t,e(!1)}}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}}},y=(a(29715),a(47433));const g=(0,y.A)(f,[["render",n],["__scopeId","data-v-01a80ef0"]]);var C=g},42156:function(e,t,a){var o=a(33228);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("41b940fb",o,!0,{sourceMap:!1,shadowMode:!1})},44344:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-fbf444ca],.buttons[data-v-fbf444ca]{width:100%}.buttons[data-v-fbf444ca]{display:flex;justify-content:flex-end}",""]),t["default"]=l},45232:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-528148c0],.buttons[data-v-528148c0]{width:100%}.buttons[data-v-528148c0]{display:flex;justify-content:flex-end}",""]),t["default"]=l},46545:function(e,t,a){var o=a(30705);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("5465aa5f",o,!0,{sourceMap:!1,shadowMode:!1})},46853:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-0cd7660b],.buttons[data-v-0cd7660b]{width:100%}.buttons[data-v-0cd7660b]{display:flex;justify-content:flex-end}",""]),t["default"]=l},48387:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var o=a(9274);const s={class:"text-default-text"},r={class:"pl-10 pr-10"},n={class:"bottom"},l={class:"buttons"};function c(e,t,a,c,i,d){const u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card"),p=(0,o.resolveComponent)("app-modal"),v=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(p,{class:"restart-modal",name:"restartDialog",width:600,height:"auto","click-to-close":!1,onClose:d.close},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(h,{class:"prompt-restart","show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[v,e.t("harvester.modal.restart.title")]])])),body:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",r,null,512),[[v,e.t("harvester.modal.restart.tip")]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>d.close&&d.close(...e))},(0,o.toDisplayString)(e.t("harvester.modal.restart.cancel")),1),(0,o.createVNode)(m,{mode:"restart",onClick:d.apply},null,8,["onClick"])])])])),_:1})])),_:1},8,["onClose"])}var i=a(65359),d=a(89651),u=a(84937),m=a(9980),h=a(99726),p=a(36832),v=a(4364),b={emits:["close"],components:{AppModal:p.h,Card:u.Z,AsyncButton:d.A,Banner:m.l},props:{vm:{type:Object,required:!0}},data(){return{errors:[],resolve:null}},computed:{...(0,i.L8)({t:"i18n/t"})},methods:{close(){this.resolve(),this.$emit("close")},apply(e){try{this.vm.doActionGrowl("restart",{}),e(!0),this.close()}catch(t){v.error(t),this.errors=(0,h.rz)(t),e(!1)}}}},f=(a(13503),a(47433));const y=(0,f.A)(b,[["render",c],["__scopeId","data-v-0f53a5eb"]]);var g=y},49371:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-3892872e],.buttons[data-v-3892872e]{width:100%}.buttons[data-v-3892872e]{display:flex;justify-content:flex-end}",""]),t["default"]=l},49899:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".modal-container[data-v-7bc2e9cb]{max-width:400px}.actions[data-v-7bc2e9cb]{width:100%;text-align:right}",""]),t["default"]=l},50142:function(e,t,a){var o=a(75230);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("a9664cc8",o,!0,{sourceMap:!1,shadowMode:!1})},51003:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-3653ff12],.buttons[data-v-3653ff12]{width:100%}.buttons[data-v-3653ff12]{display:flex;justify-content:flex-end}",""]),t["default"]=l},51215:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".addon.with-tooltip[data-v-438fdef9]{padding-right:42px}",""]),t["default"]=l},51665:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("Banner"),d=(0,o.resolveComponent)("AsyncButton"),u=(0,o.resolveComponent)("Card"),m=(0,o.resolveComponent)("app-modal");return(0,o.openBlock)(),(0,o.createBlock)(m,{class:"image-downloader-modal",name:"image-download-dialog",height:"auto",width:600,"click-to-close":!1,onClose:c.close},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.downloadImage.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{color:"info"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.downloadImage.banner",{size:c.imageVirtualSize})),1)])),_:1}),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.t("harvester.modal.downloadImage.startMessage"))+" ",1),t[1]||(t[1]=(0,o.createElementVNode)("br",null,null,-1)),t[2]||(t[2]=(0,o.createElementVNode)("br",null,null,-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(i,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(d,{type:"submit",mode:"download",disabled:c.downloadImageInProgress,onClick:c.startDownload},null,8,["disabled","onClick"])])])])),_:1})])),_:1},8,["onClose"])}var l=a(65359),c=a(99726),i=a(32766),d=a(84937),u=a(9980),m=a(89651),h=a(36832),p={name:"HarvesterImageDownloaderDialog",emits:["close"],components:{AsyncButton:m.A,Banner:u.l,Card:d.Z,AppModal:h.h},props:{resources:{type:Array,required:!0}},data(){return{errors:[],isOpen:!1}},computed:{...(0,l.L8)({t:"i18n/t"}),downloadImageInProgress(){return this.$store.getters["harvester-common/isDownloadImageInProgress"]},image(){return this.resources[0]||{}},imageName(){return this.image?.name||""},imageVirtualSize(){return this.image?.virtualSize||this.image?.downSize||""}},methods:{async cancelDownload(){const e=this.image?.links?.downloadcancel;e&&await this.$store.dispatch("harvester/request",{url:e})},async close(){this.downloadImageInProgress&&(this.$store.commit("harvester-common/setDownloadImageCancel",!0),this.$store.commit("harvester-common/setDownloadImageInProgress",!1),await this.cancelDownload()),this.$emit("close")},async startDownload(e){await this.cancelDownload(),this.$store.commit("harvester-common/setDownloadImageCancel",!1),this.$store.commit("harvester-common/setDownloadImageInProgress",!1),this.errors=[];const t=this.image?.name||"",a=this.image?.namespace||"",o={apiVersion:"harvesterhci.io/v1beta1",type:i.rk.VM_IMAGE_DOWNLOADER,kind:"VirtualMachineImageDownloader",metadata:{name:t,namespace:a},spec:{imageName:t}},s=this.$store.getters["currentProduct"].inStore,r=await this.$store.dispatch(`${s}/create`,o);try{await r.save(),this.$store.commit("harvester-common/setDownloadImageId",`${a}/${t}`,{root:!0}),this.$store.dispatch("harvester-common/downloadImageProgress",{root:!0})}catch(n){this.errors=(0,c.rz)(n),e(!1)}}}},v=(a(84026),a(47433));const b=(0,v.A)(p,[["render",n],["__scopeId","data-v-b1684a9e"]]);var f=b},52198:function(e,t,a){var o=a(54374);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("3d8175d8",o,!0,{sourceMap:!1,shadowMode:!1})},54091:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-2bfd791b],.buttons[data-v-2bfd791b]{width:100%}.buttons[data-v-2bfd791b]{display:flex;justify-content:flex-end}",""]),t["default"]=l},54374:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-25b14cfa]{text-align:right}",""]),t["default"]=l},55780:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("Checkbox"),d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.volumeClone.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.cloneData,"onUpdate:value":t[0]||(t[0]=e=>l.cloneData=e),class:"mb-10","label-key":"harvester.modal.cloneVM.type"},null,8,["value"]),(0,o.withDirectives)((0,o.createVNode)(d,{value:l.name,"onUpdate:value":t[1]||(t[1]=e=>l.name=e),class:"mb-20",label:e.t("harvester.modal.volumeClone.name"),required:""},null,8,["value","label"]),[[o.vShow,l.cloneData]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[2]||(t[2]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create",disabled:c.disableSave,onClick:c.save},null,8,["disabled","onClick"])])])])),_:1})}var l=a(65359),c=a(99726),i=a(84937),d=a(9980),u=a(89651),m=a(79380),h=a(42200),p={name:"HarvesterPvcCloneDialog",emits:["close"],components:{AsyncButton:u.A,Banner:d.l,Card:i.Z,LabeledInput:m.o,Checkbox:h.S},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[]}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},disableSave(){return this.cloneData&&!this.name}},methods:{close(){this.name="",this.$emit("close")},async save(e){if(!this.cloneData)return this.resources[0].goToClone(),e(!1),void this.close();try{const t=await this.actionResource.doAction("clone",{name:this.name});if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.volumeClone.message.success",{name:this.name})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}}},v=(a(79899),a(47433));const b=(0,v.A)(p,[["render",n],["__scopeId","data-v-3892872e"]]);var f=b},55998:function(e,t,a){"use strict";a.d(t,{A:function(){return u}});var o=a(9274);function s(e,t,a,s,r,n){const l=(0,o.resolveComponent)("LabeledInput");return(0,o.openBlock)(),(0,o.createBlock)(l,(0,o.mergeProps)({ref:"value",value:n.displayValue},e.$attrs,{type:"number",min:a.min,mode:a.mode,label:a.label,delay:a.delay,"label-key":a.labelKey,tooltip:a.tooltip,"tooltip-key":a.tooltipKey,required:a.required,placeholder:a.placeholder,"hide-arrows":a.hideArrows,onChange:t[0]||(t[0]=e=>n.update(e.target.value)),onBlur:t[1]||(t[1]=e=>n.update(e.target.value))}),{suffix:(0,o.withCtx)((()=>[n.displayUnit?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)(["addon",{"with-tooltip":a.tooltip||a.tooltipKey}])},(0,o.toDisplayString)(n.displayUnit),3)):(0,o.createCommentVNode)("",!0)])),_:1},16,["value","min","mode","label","delay","label-key","tooltip","tooltip-key","required","placeholder","hide-arrows"])}var r=a(95799),n=a(79380),l=a(14220),c={components:{LabeledInput:n.o},emits:["update:value","update:validation","change","blur"],props:{outputAs:{type:String,default:"number"},outputModifier:{type:Boolean,default:!1},inputExponent:{type:Number,default:0},baseUnit:{type:String,default:"B"},hideArrows:{type:Boolean,default:!1},increment:{type:Number,default:1e3},suffix:{type:String,default:null},mode:{type:String,default:l.G5},value:{type:[Number,String],default:null},label:{type:String,default:null},labelKey:{type:String,default:null},tooltip:{type:[String,Object],default:null},tooltipKey:{type:String,default:null},required:{type:Boolean,default:!1},min:{type:[Number,String],default:0},placeholder:{type:[String,Number],default:""},delay:{type:Number,default:0},positive:{type:Boolean,default:!1}},computed:{unit(){let e;return e=this.inputExponent>=0?r.QN[this.inputExponent]:r.kq[-1*this.inputExponent],1024===this.increment&&e&&(e+="i"),e},parsedValue(){return"string"===typeof this.value?(0,r.ao)(this.value):this.value},displayValue(){let e="";return(this.parsedValue||0===this.parsedValue)&&(e=(0,r.Mo)(this.parsedValue,{increment:this.increment,addSuffix:!1,maxExponent:this.inputExponent,minExponent:this.inputExponent})),e},displayUnit(){return this.suffix?this.suffix:this.unit+this.baseUnit}},methods:{focus(){const e=this.$refs.value;e&&e.focus()},update(e){let t=""===e?null:e;this.positive&&e<0&&(t=0),this.outputModifier?t=null===t?null:`${e}${this.unit}`:"string"===this.outputAs?t=null===t?"":`${e}`:t&&(t=this.unit?(0,r.ao)(`${t}${this.unit}`):parseInt(t)),this.$emit("update:value",t)}}},i=(a(61743),a(47433));const d=(0,i.A)(c,[["render",s],["__scopeId","data-v-438fdef9"]]);var u=d},60834:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-09ad5262],.buttons[data-v-09ad5262]{width:100%}.buttons[data-v-09ad5262]{display:flex;justify-content:flex-end}",""]),t["default"]=l},61675:function(e,t,a){var o=a(11435);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("2fa23624",o,!0,{sourceMap:!1,shadowMode:!1})},61743:function(e,t,a){var o=a(51215);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("6d01b2c2",o,!0,{sourceMap:!1,shadowMode:!1})},62035:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-01a80ef0],.buttons[data-v-01a80ef0]{width:100%}.buttons[data-v-01a80ef0]{display:flex;justify-content:flex-end}",""]),t["default"]=l},62833:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("Checkbox"),d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.cloneVM.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.cloneData,"onUpdate:value":t[0]||(t[0]=e=>l.cloneData=e),class:"mb-10","label-key":"harvester.modal.cloneVM.type"},null,8,["value"]),(0,o.withDirectives)((0,o.createVNode)(d,{value:l.name,"onUpdate:value":t[1]||(t[1]=e=>l.name=e),class:"mb-20",label:e.t("harvester.modal.cloneVM.name"),required:""},null,8,["value","label"]),[[o.vShow,l.cloneData]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,label:e,color:"error"},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[2]||(t[2]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create","action-label":l.cloneData?e.t("harvester.modal.cloneVM.action.create"):e.t("harvester.modal.cloneVM.action.clone"),disabled:l.cloneData&&!l.name,onClick:c.create},null,8,["action-label","disabled","onClick"])])])])),_:1})}var l=a(99726),c=a(65359),i=a(84937),d=a(9980),u=a(42200),m=a(89651),h=a(79380),p={name:"CloneVMModal",emits:["close"],components:{AsyncButton:m.A,Banner:d.l,Checkbox:u.S,Card:i.Z,LabeledInput:h.o},props:{resources:{type:Array,required:!0}},data(){return{name:"",cloneData:!0,errors:[]}},computed:{...(0,c.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.name="",this.$emit("close")},async create(e){if(!this.cloneData)return this.resources[0].goToClone(),e(!1),void this.close();try{const t=await this.actionResource.doAction("clone",{targetVm:this.name},{},!1);if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.cloneVM.message.success",{name:this.name})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,l.rz)(a);this["errors"]=o,e(!1)}}}},v=(a(93735),a(47433));const b=(0,v.A)(p,[["render",n],["__scopeId","data-v-ecc50bdc"]]);var f=b},63330:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".body[data-v-093a01ba]{display:flex;flex-direction:column}.body-field[data-v-093a01ba]{margin-top:10px}.actions[data-v-093a01ba],.buttons[data-v-093a01ba]{width:100%}.buttons[data-v-093a01ba]{display:flex;justify-content:flex-end}",""]),t["default"]=l},64859:function(e,t,a){var o=a(51003);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("44cca29e",o,!0,{sourceMap:!1,shadowMode:!1})},67038:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var o=a(9274);const s={class:"text-default-text"},r={class:"buttons actions"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("LabeledInput"),d=(0,o.resolveComponent)("AsyncButton"),u=(0,o.resolveComponent)("Card"),m=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(u,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[m,e.t("promptRemove.title")]])])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.numVFs,"onUpdate:value":t[0]||(t[0]=e=>l.numVFs=e),valueModifiers:{number:!0},type:"number",min:"1",required:"",label:e.t("harvester.sriov.numVFs")},null,8,["value","label"])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(d,{mode:"enable",onClick:c.save},null,8,["onClick"])])])),_:1})}var l=a(13238),c=a(65359),i=a(84937),d=a(89651),u=a(92043),m={name:"HarvesterEnableSriovDevice",emits:["close"],components:{LabeledInput:l.A,AsyncButton:d.A,Card:i.Z},props:{resources:{type:Array,required:!0}},data(){const e=this.resources[0].spec?.numVFs||1;return{numVFs:e,numVFsHistory:e}},computed:{...(0,c.L8)({t:"i18n/t"})},watch:{numVFs(e){(!parseFloat(e)||parseFloat(e)<1)&&(this.numVFs=1)}},methods:{close(){this.$emit("close")},async save(e){const t=this.resources[0];try{this.resources[0].spec.numVFs=this.numVFs,await t.save(),e(!0),this.close()}catch(a){this.resources[0].spec.numVFs=this.numVFsHistory,this.$store.dispatch("growl/fromError",{title:this.t("generic.notification.title.error",{name:(0,u.ZD)(t.metadata.name)}),err:a},{root:!0}),e(!1)}}}},h=(a(50142),a(47433));const p=(0,h.A)(m,[["render",n],["__scopeId","data-v-bcaa7c4a"]]);var v=p},68794:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-b1684a9e],.buttons[data-v-b1684a9e]{width:100%}.buttons[data-v-b1684a9e]{display:flex;justify-content:flex-end}",""]),t["default"]=l},70134:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var o=a(9274);const s={class:"text-default-text"},r={class:"pl-10 pr-10"},n={class:"mt-10 mb-10"},l={class:"mb-10"},c={class:"text-info mt-20"};function i(e,t,a,i,d,u){const m=(0,o.resolveComponent)("CopyToClipboardText"),h=(0,o.resolveComponent)("Banner"),p=(0,o.resolveComponent)("AsyncButton"),v=(0,o.resolveComponent)("Card"),b=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(v,{class:"prompt-related","show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("h4",s,(0,o.toDisplayString)(e.t("promptRemove.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.withDirectives)((0,o.createElementVNode)("span",null,null,512),[[b,e.t(u.warningMessageKey,{type:u.type,names:u.resourceNames},!0)]]),(0,o.createElementVNode)("div",n,[(0,o.withDirectives)((0,o.createElementVNode)("span",null,null,512),[[b,e.t("promptRemove.confirmName",{nameToMatch:u.escapeHtml(u.nameToMatch)},!0)]])]),(0,o.createElementVNode)("div",l,[(0,o.createVNode)(m,{text:u.nameToMatch},null,8,["text"])]),(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"confirm","onUpdate:modelValue":t[0]||(t[0]=e=>d.confirmName=e),type:"text"},null,512),[[o.vModelText,d.confirmName]]),(0,o.createElementVNode)("div",c,(0,o.toDisplayString)(u.protip),1),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(d.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(h,{key:t,label:e,color:"error"},null,8,["label"])))),128))])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>u.close&&u.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(p,{mode:"delete",class:"btn bg-error ml-10",disabled:u.deleteDisabled,onClick:u.remove},null,8,["disabled","onClick"])])),_:1})}var d=a(65359),u=a(99726),m=a(35881),h=a(89651),p=a(9980),v=a(84937),b=a(92043),f=a(33494),y={name:"ConfirmRelatedToRemoveDialog",emits:["close"],components:{AsyncButton:h.A,Banner:p.l,Card:v.Z,CopyToClipboardText:f.A},props:{resources:{type:Array,required:!0}},data(){return{errors:[],confirmName:""}},computed:{...(0,d.aH)("action-menu",["modalData"]),warningMessageKey(){return this.modalData.warningMessageKey},names(){return this.resources.map((e=>e.nameDisplay)).slice(0,5)},resourceNames(){return this.names.reduce(((e,t,a)=>(a>=5||(e+=`<b>${(0,b.ZD)(t)}</b>`,a===this.names.length-1?e+=this.plusMore:e+=a===this.resources.length-2?" and ":", "),e)),"")},nameToMatch(){return this.resources[0].nameDisplay},plusMore(){const e=this.resources.length-this.names.length;return this.t("promptRemove.andOthers",{count:e})},type(){const e=new Set(this.resources.reduce(((e,t)=>(e.push(t.type),e)),[]));if(e.size>1)return this.t("generic.resource",{count:this.resources.length});const t=this.resources[0]?.schema;return t?this.$store.getters["type-map/labelFor"](t,this.resources.length):"resource"+(1===this.resources.length?"":"s")},deleteDisabled(){return this.confirmName!==this.nameToMatch},protip(){return this.t("promptRemove.protip",{alternateLabel:m.ZA})}},methods:{escapeHtml:b.ZD,close(){this.confirmName="",this.errors=[],this.$emit("close")},async remove(e){try{for(const e of this.resources)await e.remove();e(!0),this.close()}catch(t){this.errors=(0,u.rz)(t),e(!1)}}}},g=(a(52198),a(47433));const C=(0,g.A)(y,[["render",i],["__scopeId","data-v-25b14cfa"]]);var k=C},71452:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card"),p=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[p,e.t("harvester.modal.backup.addBackup")]])])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{value:c.backUpName,"onUpdate:value":t[0]||(t[0]=e=>c.backUpName=e),label:e.t("generic.name"),required:""},null,8,["value","label"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create",disabled:!c.backUpName,onClick:i.save},null,8,["disabled","onClick"])])])])),_:1})}var c=a(99726),i=a(65359),d=a(84937),u=a(9980),m=a(89651),h=a(79380),p={name:"HarvesterBackupModal",emits:["close"],components:{AsyncButton:m.A,Card:d.Z,LabeledInput:h.o,Banner:u.l},props:{resources:{type:Array,required:!0}},data(){return{backUpName:"",errors:[]}},computed:{...(0,i.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.backUpName="",this.$emit("close")},async save(e){if(this.actionResource)try{const t=await this.actionResource.doAction("backup",{name:this.backUpName},{},!1);if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.backup.success",{backUpName:this.backUpName})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}}},v=(a(6135),a(47433));const b=(0,v.A)(p,[["render",l],["__scopeId","data-v-45003f26"]]);var f=b},71524:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var o=a(9274);const s={class:"text-default-text"},r={class:"body"},n={class:"type-field"},l={class:"buttons actions"};function c(e,t,a,c,i,d){const u=(0,o.resolveComponent)("LabeledSelect"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card"),p=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[p,e.t("harvester.vgpu.enable.title")]])])),body:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createVNode)(u,{value:i.type,"onUpdate:value":t[0]||(t[0]=e=>i.type=e),required:"",options:i.availableTypes,searchable:!0,label:e.t("harvester.vgpu.enable.type")},null,8,["value","options","label"])])])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>d.close&&d.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"edit",disabled:!i.type,onClick:d.save},null,8,["disabled","onClick"])])])),_:1})}var i=a(65359),d=a(84937),u=a(8077),m=a(89651),h=a(92043),p={name:"HarvesterEnableVGpuDevice",emits:["close"],components:{AsyncButton:m.A,Card:d.Z,LabeledSelect:u.A},props:{resources:{type:Array,required:!0}},data(){return{type:this.resources[0].spec?.vGPUTypeName,availableTypes:Object.keys(this.resources[0].status?.availableTypes||{})}},computed:{...(0,i.L8)({t:"i18n/t"})},methods:{close(){this.$emit("close")},async save(e){const t=this.resources[0];try{this.resources[0].spec.vGPUTypeName=this.type,this.resources[0].spec.enabled=!0,await t.save(),e(!0),this.close()}catch(a){this.$store.dispatch("growl/fromError",{title:this.t("generic.notification.title.error",{name:(0,h.ZD)(t.metadata.name)}),err:a},{root:!0}),e(!1)}}}},v=(a(24738),a(47433));const b=(0,v.A)(p,[["render",c],["__scopeId","data-v-093a01ba"]]);var f=b},74267:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var o=a(9274);const s={class:"text-default-text"},r={class:"pl-10 pr-10"},n={class:"text-info mt-20"},l={class:"actions"};function c(e,t,a,c,i,d){const u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card"),p=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("h4",s,(0,o.toDisplayString)(e.t("dialog.confirmExecution.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.withDirectives)((0,o.createElementVNode)("span",null,null,512),[[p,e.t(d.warningMessageKey,{type:d.type,names:d.resourceNames},!0)]]),(0,o.createElementVNode)("div",n,(0,o.toDisplayString)(d.protip),1),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(i.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,label:e,color:"error"},null,8,["label"])))),128))])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("button",{class:"btn role-secondary",onClick:t[0]||(t[0]=(...e)=>d.close&&d.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"apply",class:"btn bg-primary ml-10",disabled:e.applyDisabled,onClick:d.apply},null,8,["disabled","onClick"])])])),_:1})}var i=a(65359),d=a(99726),u=a(35881),m=a(89651),h=a(9980),p=a(84937),v=a(92043),b={name:"ConfirmExecutionDialog",emits:["close"],components:{AsyncButton:m.A,Banner:h.l,Card:p.Z},props:{resources:{type:Array,required:!0}},data(){return{errors:[]}},computed:{...(0,i.aH)("action-menu",["modalData"]),warningMessageKey(){return this.modalData.warningMessageKey},names(){return this.resources.map((e=>e.nameDisplay)).slice(0,5)},resourceNames(){return this.names.reduce(((e,t,a)=>(a>=5||(e+=`<b>${(0,v.ZD)(t)}</b>`,a===this.names.length-1?e+=this.plusMore:e+=a===this.resources.length-2?" and ":", "),e)),"")},plusMore(){const e=this.resources.length-this.names.length;return this.t("dialog.confirmExecution.andOthers",{count:e})},type(){const e=new Set(this.resources.reduce(((e,t)=>(e.push(t.type),e)),[]));if(e.size>1)return this.t("generic.resource",{count:this.resources.length});const t=this.resources[0]?.schema;return t?this.$store.getters["type-map/labelFor"](t,this.resources.length):"resource"+(1===this.resources.length?"":"s")},protip(){return this.t("dialog.confirmExecution.protip",{alternateLabel:u.ZA})}},methods:{escapeHtml:v.ZD,close(){this.errors=[],this.$emit("close")},async apply(e){try{for(const e of this.resources)await e.doActionGrowl(this.modalData.action,{});e(!0),this.close()}catch(t){this.errors=(0,d.rz)(t),e(!1)}}}},f=(a(8715),a(47433));const y=(0,f.A)(b,[["render",c],["__scopeId","data-v-7bc2e9cb"]]);var g=y},75230:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-bcaa7c4a],.buttons[data-v-bcaa7c4a]{width:100%}.buttons[data-v-bcaa7c4a]{display:flex;justify-content:flex-end}",""]),t["default"]=l},75290:function(e,t,a){var o=a(76986);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("64c5083c",o,!0,{sourceMap:!1,shadowMode:!1})},76986:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-6bf42877],.buttons[data-v-6bf42877]{width:100%}.buttons[data-v-6bf42877]{display:flex;justify-content:flex-end}",""]),t["default"]=l},76999:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-ecc50bdc],.buttons[data-v-ecc50bdc]{width:100%}.buttons[data-v-ecc50bdc]{display:flex;justify-content:flex-end}",""]),t["default"]=l},79899:function(e,t,a){var o=a(49371);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("c3c77ed8",o,!0,{sourceMap:!1,shadowMode:!1})},81196:function(e,t,a){var o=a(88428);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("43e43051",o,!0,{sourceMap:!1,shadowMode:!1})},81600:function(e,t,a){var o=a(5376);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("7eda2be0",o,!0,{sourceMap:!1,shadowMode:!1})},81912:function(e,t,a){var o=a(44344);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("3bb91404",o,!0,{sourceMap:!1,shadowMode:!1})},83682:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-44897704],.buttons[data-v-44897704]{width:100%}.buttons[data-v-44897704]{display:flex;justify-content:flex-end}",""]),t["default"]=l},84026:function(e,t,a){var o=a(68794);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("15e58ce6",o,!0,{sourceMap:!1,shadowMode:!1})},84783:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("LabeledInput"),u=(0,o.resolveComponent)("Banner"),m=(0,o.resolveComponent)("AsyncButton"),h=(0,o.resolveComponent)("Card"),p=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(h,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[p,e.t("harvester.modal.vmSnapshot.title")]])])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{value:i.actionResource.metadata.namespace,"onUpdate:value":t[0]||(t[0]=e=>i.actionResource.metadata.namespace=e),disabled:!0,label:e.t("generic.namespace")},null,8,["value","label"]),(0,o.createVNode)(d,{value:c.snapshotName,"onUpdate:value":t[1]||(t[1]=e=>c.snapshotName=e),class:"mt-20",label:e.t("generic.name"),required:""},null,8,["value","label"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(c.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(u,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[2]||(t[2]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(m,{mode:"create",disabled:!c.snapshotName,onClick:i.save},null,8,["disabled","onClick"])])])])),_:1})}var c=a(99726),i=a(65359),d=a(84937),u=a(9980),m=a(89651),h=a(79380),p=a(32766),v=a(41837),b={name:"HarvesterVMSnapshotDialog",emits:["close"],components:{AsyncButton:m.A,Card:d.Z,LabeledInput:h.o,Banner:u.l},props:{resources:{type:Array,required:!0}},data(){return{snapshotName:"",snapshotNamespace:"",errors:[]}},computed:{...(0,i.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{close(){this.snapshotNamespace="",this.snapshotName="",this.$emit("close")},async save(e){if(this.actionResource)try{const t=await this.$store.dispatch("harvester/create",{metadata:{name:this.snapshotName,namespace:this.actionResource.metadata.namespace,ownerReferences:this.getOwnerReferencesFromVM(this.actionResource)},spec:{source:{apiGroup:"kubevirt.io",kind:"VirtualMachine",name:this.actionResource.metadata.name},type:v.aS.SNAPSHOT},type:p.rk.BACKUP});await t.save(),this.$store.dispatch("growl/success",{title:this.t("generic.notification.title.succeed"),message:this.t("harvester.modal.vmSnapshot.success",{name:this.snapshotName})},{root:!0}),this.close(),e(!0)}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}},getOwnerReferencesFromVM(e){const t=e.metadata.name,a=e.kind,o="kubevirt.io/v1",s=e?.metadata?.uid;return[{name:t,kind:a,uid:s,apiVersion:o}]}}},f=(a(42156),a(47433));const y=(0,f.A)(b,[["render",l],["__scopeId","data-v-0958580f"]]);var g=y},88428:function(e,t,a){"use strict";a.r(t);var o=a(36758),s=a.n(o),r=a(40935),n=a.n(r),l=n()(s());l.push([e.id,".actions[data-v-c332cc84],.buttons[data-v-c332cc84]{width:100%}.buttons[data-v-c332cc84]{display:flex;justify-content:flex-end}",""]),t["default"]=l},89257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("Card"),u=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(d,{ref:"modal",name:"modal","show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createElementVNode)("h4",s,(0,o.toDisplayString)(e.t("generic.tip")),1)])),body:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("p",null,null,512),[[u,e.t(e.modalData.contentKey)]])])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{type:"button",class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>i.ok&&i.ok(...e))},(0,o.toDisplayString)(e.t("generic.ok")),1)])])])),_:1},512)}var c=a(65359),i=a(84937),d={name:"HarvesterHotUnplugModal",emits:["close"],components:{Card:i.Z},props:{resources:{type:Array,required:!0}},computed:{...(0,c.aH)("action-menu",["modalData"]),...(0,c.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]}},methods:{ok(){this.modalData?.callback("ok"),this.$emit("close")}}},u=(a(75290),a(47433));const m=(0,u.A)(d,[["render",l],["__scopeId","data-v-6bf42877"]]);var h=m},90059:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var o=a(9274);const s={class:"text-default-text"},r={class:"actions"},n={class:"buttons"};function l(e,t,a,l,c,i){const d=(0,o.resolveComponent)("AsyncButton"),u=(0,o.resolveComponent)("Card"),m=(0,o.resolveDirective)("clean-html");return(0,o.openBlock)(),(0,o.createBlock)(u,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.withDirectives)((0,o.createElementVNode)("h4",s,null,512),[[m,e.t("promptRemove.title")]])])),body:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.pci.enablePassthroughWarning")),1)])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(d,{mode:"enable",onClick:i.save},null,8,["onClick"])])])])),_:1})}var c=a(65359),i=a(84937),d=a(89651),u=a(92043),m=a(32766),h={name:"HarvesterEnablePciPassthrough",emits:["close"],components:{AsyncButton:d.A,Card:i.Z},props:{resources:{type:Array,required:!0}},data(){return{}},computed:{...(0,c.L8)({t:"i18n/t"})},methods:{close(){this.$emit("close")},async save(e){const t=this.$store.getters["isSingleProduct"];let a="admin";if(!t){const e=this.$store.getters["auth/v3User"];a=e?.username||e?.id}for(let s=0;s<this.resources.length;s++){const t=this.resources[s],r=this.$store.getters["currentProduct"].inStore,n=await this.$store.dispatch(`${r}/create`,{type:m.rk.PCI_CLAIM,metadata:{name:t.metadata.name,ownerReferences:[{apiVersion:"devices.harvesterhci.io/v1beta1",kind:"PCIDevice",name:t.metadata.name,uid:t.metadata.uid}]},spec:{address:t.status.address,nodeName:t.status.nodeName,userName:a}});try{await n.save(),e(!0),this.close()}catch(o){this.$store.dispatch("growl/fromError",{title:this.t("harvester.pci.claimError",{name:(0,u.ZD)(t.metadata.name)}),err:o},{root:!0}),e(!1)}}}}},p=(a(97730),a(47433));const v=(0,p.A)(h,[["render",l],["__scopeId","data-v-44897704"]]);var b=v},93735:function(e,t,a){var o=a(76999);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("0044242d",o,!0,{sourceMap:!1,shadowMode:!1})},95931:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var o=a(9274);const s={class:"actions"},r={class:"buttons"};function n(e,t,a,n,l,c){const i=(0,o.resolveComponent)("LabeledInput"),d=(0,o.resolveComponent)("Banner"),u=(0,o.resolveComponent)("AsyncButton"),m=(0,o.resolveComponent)("Card");return(0,o.openBlock)(),(0,o.createBlock)(m,{"show-highlight-border":!1},{title:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.t("harvester.modal.snapshot.title")),1)])),body:(0,o.withCtx)((()=>[(0,o.createVNode)(i,{value:l.name,"onUpdate:value":t[0]||(t[0]=e=>l.name=e),label:e.t("harvester.modal.snapshot.name"),required:""},null,8,["value","label"]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l.errors,((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(d,{key:t,color:"error",label:e},null,8,["label"])))),128))])),actions:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",r,[(0,o.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:t[1]||(t[1]=(...e)=>c.close&&c.close(...e))},(0,o.toDisplayString)(e.t("generic.cancel")),1),(0,o.createVNode)(u,{mode:"create",disabled:c.disableSave,onClick:c.save},null,8,["disabled","onClick"])])])])),_:1})}var l=a(65359),c=a(99726),i=a(84937),d=a(9980),u=a(89651),m=a(79380),h={name:"HarvesterSnapshotDialog",emits:["close"],components:{AsyncButton:u.A,Banner:d.l,Card:i.Z,LabeledInput:m.o},props:{resources:{type:Array,required:!0}},data(){return{name:"",errors:[]}},computed:{...(0,l.L8)({t:"i18n/t"}),actionResource(){return this.resources[0]},disableSave(){return!this.name}},methods:{close(){this.name="",this.$emit("close")},async save(e){try{const t=await this.actionResource.doAction("snapshot",{name:this.name});if(200===t._status||204===t._status)this.$store.dispatch("growl/success",{title:this.t("harvester.notification.title.succeed"),message:this.t("harvester.modal.snapshot.message.success",{name:this.name})},{root:!0}),this.close(),e(!0);else{const a=[t?.data]||0;this["errors"]=a,e(!1)}}catch(t){const a=t?.data||t,o=(0,c.rz)(a);this["errors"]=o,e(!1)}}}},p=(a(2004),a(47433));const v=(0,p.A)(h,[["render",n],["__scopeId","data-v-b3c709f8"]]);var b=v},97730:function(e,t,a){var o=a(83682);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("e3d240be",o,!0,{sourceMap:!1,shadowMode:!1})},99402:function(e,t,a){var o=a(17674);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(74825).A;s("1b0fcb28",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=harvester-1.5.0.umd.min.dialog.js.map