{"version":3,"file":"harvester-1.5.0.umd.min.207.js","mappings":"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","sources":["webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/GrafanaDashboard.vue?7d97","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/PercentageBar.vue","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/graph/Bar.vue","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/graph/Bar.vue?3786","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/PercentageBar.vue?1d96","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/graph/Bar.vue?23d8","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/GrafanaDashboard.vue?f587","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/ConsumptionGauge.vue?78c1","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardMetrics.vue?137e","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/utils/poller.js","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/mixins/metric-poller.js","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/graph/Bar.vue?4823","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/PercentageBar.vue?a566","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardMetrics.vue?db7b","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/ConsumptionGauge.vue","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/ConsumptionGauge.vue?c2d3","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/PercentageBar.vue?53c9","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardOptions.vue?e9fa","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardOptions.vue?84f8","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardMetrics.vue","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardOptions.vue","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardOptions.vue?a409","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/GrafanaDashboard.vue","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/GrafanaDashboard.vue?69b3","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/DashboardMetrics.vue?a7a3","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/components/ConsumptionGauge.vue?2b4e","webpack://harvester-1.5.0/../../node_modules/@rancher/shell/utils/grafana.js"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./GrafanaDashboard.vue?vue&type=style&index=0&id=2ba52de3&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1235fbab\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport Bar from '@shell/components/graph/Bar';\nimport { formatPercent } from '@shell/utils/string';\n\nexport const PreferredDirection = {\n  LESS: 'LESS',\n  MORE: 'MORE'\n};\n\n/**\n * A percentage bar which can be used to display how much a resource is being consumed.\n */\nexport default {\n  components: { Bar },\n  props:      {\n    /**\n     * A value representing the percentage to be displayed. *Must be a value between 0 and 100*.\n     */\n    modelValue: {\n      type:     Number,\n      required: true,\n      validator(value) {\n        return value >= 0;\n      }\n    },\n\n    /**\n     * A value which indicates which direction is better so we can change the color appropriately (Valid values: 'LESS' or 'MORE')\n     */\n    preferredDirection: {\n      type:    String,\n      default: PreferredDirection.LESS\n    },\n\n    /**\n     * Determines whether we display the numerical percentage value to the right of the bar.\n     */\n    showPercentage: {\n      type:    Boolean,\n      default: false\n    },\n\n    /**\n     * Optional map of percentage:color class stops to apply to bar\n     */\n\n    colorStops: {\n      type:    Object,\n      default: null\n    },\n\n    /**\n     * Show vertical lines to denote where multiple sources that are contributing to this percentage end\n     */\n    slices: {\n      type:    Array,\n      default: () => []\n    }\n  },\n\n  computed: {\n    primaryColor() {\n      const isLess = this.preferredDirection === PreferredDirection.LESS;\n\n      if (this.colorStops) {\n        const thresholds = Object.keys(this.colorStops).sort();\n\n        if (isLess) {\n          let i = thresholds.length - 1;\n\n          while (this.modelValue < thresholds[i]) {\n            i--;\n          }\n\n          return this.colorStops[thresholds[i]];\n        } else {\n          let i = 0;\n\n          while (this.modelValue > thresholds[i]) {\n            i++;\n          }\n\n          return this.colorStops[thresholds[i]];\n        }\n      }\n      const threshold = isLess ? 80 : 20;\n\n      const left = isLess ? this.modelValue : threshold;\n      const right = isLess ? threshold : this.modelValue;\n\n      if (left <= right) {\n        return '--primary';\n      }\n\n      return '--error';\n    },\n    formattedPercentage() {\n      return formatPercent(this.modelValue);\n    }\n  },\n};\n</script>\n\n<template>\n  <span class=\"percentage-bar\">\n    <Bar\n      :percentage=\"modelValue\"\n      :primary-color=\"primaryColor\"\n      :slices=\"slices\"\n    />\n    <span\n      v-if=\"showPercentage\"\n      class=\"ml-5 percentage-value\"\n    >{{ formattedPercentage }}</span>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n.percentage-bar {\n  display: flex;\n  flex-direction: row;\n\n  .percentage-value {\n    word-break: keep-all;\n  }\n}\n</style>\n","<script>\r\nexport default {\r\n  props: {\r\n    percentage: {\r\n      type:     Number,\r\n      required: true\r\n    },\r\n    primaryColor: {\r\n      type:    String,\r\n      default: '--primary'\r\n    },\r\n    secondaryColor: {\r\n      type:    String,\r\n      default: '--border'\r\n    },\r\n    slices: {\r\n      type:    Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  computed: {\r\n    indicatorStyle() {\r\n      return {\r\n        width:           `${ this.percentage }%`,\r\n        backgroundColor: `var(${ this.primaryColor })`\r\n      };\r\n    },\r\n    barStyle() {\r\n      return { backgroundColor: `var(${ this.secondaryColor })` };\r\n    },\r\n    sliceStyles() {\r\n      return this.slices.map((slice) => ({\r\n        left:       `${ slice }%`,\r\n        visibility: slice < this.percentage ? 'visible' : 'hidden'\r\n      }));\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\n    class=\"bar\"\n    :style=\"barStyle\"\n  >\r\n    <div\n      class=\"indicator\"\n      :style=\"indicatorStyle\"\n    />\r\n    <div\n      v-for=\"(sliceStyle, i) in sliceStyles\"\n      :key=\"i\"\n      class=\"slice\"\n      :style=\"sliceStyle\"\n    />\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.bar {\r\n    $height: 15px;\r\n\r\n    width: 100%;\r\n    height: $height;\r\n    border-radius: math.div($height, 2);\r\n    overflow: hidden;\r\n    position: relative;\r\n\r\n    .indicator {\r\n        height: 100%;\r\n    }\r\n\r\n    .slice {\r\n      position: absolute;\r\n      top: 0;\r\n      bottom: 0;\r\n      width: 1px;\r\n      background-color: var(--body-bg);\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./Bar.vue?vue&type=template&id=b4f4e2ae&scoped=true\"\nimport script from \"./Bar.vue?vue&type=script&lang=js\"\nexport * from \"./Bar.vue?vue&type=script&lang=js\"\n\nimport \"./Bar.vue?vue&type=style&index=0&id=b4f4e2ae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b4f4e2ae\"]])\n\nexport default __exports__","import { render } from \"./PercentageBar.vue?vue&type=template&id=4ade54a6&scoped=true\"\nimport script from \"./PercentageBar.vue?vue&type=script&lang=js\"\nexport * from \"./PercentageBar.vue?vue&type=script&lang=js\"\n\nimport \"./PercentageBar.vue?vue&type=style&index=0&id=4ade54a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4ade54a6\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".bar[data-v-b4f4e2ae]{width:100%;height:15px;border-radius:7.5px;overflow:hidden;position:relative}.bar .indicator[data-v-b4f4e2ae]{height:100%}.bar .slice[data-v-b4f4e2ae]{position:absolute;top:0;bottom:0;width:1px;background-color:var(--body-bg)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".grafana-graph[data-v-2ba52de3]{position:relative;min-height:100%;min-width:100%}.grafana-graph[data-v-2ba52de3]  .content{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;padding:0}.grafana-graph[data-v-2ba52de3]  .overlay{position:static;background-color:initial}.grafana-graph iframe[data-v-2ba52de3]{position:absolute;left:0;right:0;top:20px;bottom:0;width:100%;height:100%;overflow:hidden}.grafana-graph iframe.loading[data-v-2ba52de3]{visibility:hidden}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".consumption-gauge .numbers{display:flex;flex-direction:row;justify-content:space-between}.consumption-gauge .numbers-stats{display:flex;flex-direction:row;align-items:center;gap:10px;align-self:baseline}.consumption-gauge .numbers .percentage{font-weight:700}.consumption-gauge .numbers .percentage i{margin-right:10px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./DashboardMetrics.vue?vue&type=style&index=0&id=5cdbd67f&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5bc3db34\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export default class Poller {\n    fn;\n    pollRateMs;\n    maxRetries;\n    intervalId;\n    tryCount = 0;\n\n    constructor(fn, pollRateMs, maxRetries = Number.POSITIVE_INFINITY) {\n      this.fn = fn || (() => {});\n      this.pollRateMs = pollRateMs;\n      this.maxRetries = maxRetries;\n    }\n\n    start() {\n      // Ensure only one is running\n      this.stop();\n      this._intervalMethod();\n      this.intervalId = setInterval(() => this._intervalMethod(), this.pollRateMs);\n    }\n\n    stop() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = undefined;\n      }\n    }\n\n    async _intervalMethod() {\n      try {\n        await this.fn();\n        this.tryCount = 0;\n      } catch (ex) {\n        console.error('Error encountered while polling', ex); // eslint-disable-line no-console\n        if (++this.tryCount >= this.maxRetries) {\n          this.stop();\n        }\n      }\n    }\n}\n","import Poller from '@shell/utils/poller';\n\nconst METRICS_POLL_RATE_MS = 30000;\nconst MAX_FAILURES = 2;\n\nexport default {\n  data() {\n    return { metricPoller: null };\n  },\n\n  mounted() {\n    this.metricPoller = new Poller(this.loadMetrics, METRICS_POLL_RATE_MS, MAX_FAILURES);\n    this.metricPoller.start();\n  },\n\n  beforeUnmount() {\n    this.metricPoller.stop();\n  },\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../vue-loader/dist/stylePostLoader.js!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./Bar.vue?vue&type=style&index=0&id=b4f4e2ae&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bcd5ae90\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".percentage-bar[data-v-4ade54a6]{display:flex;flex-direction:row}.percentage-bar .percentage-value[data-v-4ade54a6]{word-break:keep-all}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dashboard-metrics[data-v-5cdbd67f]  .external-link{position:absolute;left:200px;top:-45px}.dashboard-metrics[data-v-5cdbd67f]  .frame{top:0}.dashboard-metrics.external-link-pull-left[data-v-5cdbd67f]  .external-link{position:absolute;left:10px;top:-47px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport PercentageBar from '@shell/components/PercentageBar';\nimport { formatPercent } from '@shell/utils/string';\n\n/**\n * A detailed view of how much a resource is being consumed.\n */\nexport default {\n  components: { PercentageBar },\n  props:      {\n    /**\n     * The name of the resource to be displayed.\n     */\n    resourceName: {\n      type:    String,\n      default: ''\n    },\n    /**\n     * The total amount of the resource (both used and unused amount).\n     */\n    capacity: {\n      type:     Number,\n      required: true\n    },\n    /**\n     * The amount of the resource that is currently in use.\n     */\n    used: {\n      type:     Number,\n      required: true\n    },\n    /**\n     * The units that should be displayed when referencing amounts of the resource.\n     */\n    units: {\n      type:    String,\n      default: ''\n    },\n    /**\n     * A method which can be used to format the *capacity* and *used* numbers for display.\n     */\n    numberFormatter: {\n      type:    Function,\n      default: (value) => Number.isInteger(value) ? value : value.toFixed(2)\n    },\n\n    /**\n     * Optional map of css color class: percentage stops to apply to bar\n     */\n\n    colorStops: {\n      type:    Object,\n      default: null\n    },\n\n    /**\n     * Reduce the vertial height by changed 'Used' for the resource name\n     */\n    usedAsResourceName: {\n      type:   Boolean,\n      defaut: false\n    }\n  },\n  computed: {\n    displayUnits() {\n      if ( this.units ) {\n        return ` ${ this.units }`;\n      }\n\n      return '';\n    },\n    percentageBarValue() {\n      if (!this.used || !this.capacity) {\n        return 0;\n      }\n\n      return (this.used * 100) / this.capacity;\n    },\n    amountTemplateValues() {\n      return {\n        used:  this.numberFormatter(this.used || 0),\n        total: this.numberFormatter(this.capacity || 0),\n        unit:  this.displayUnits\n      };\n    },\n    formattedPercentage() {\n      return formatPercent(this.percentageBarValue);\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"consumption-gauge\">\n    <h3 v-if=\"resourceName && !usedAsResourceName\">\n      {{ resourceName }}\n    </h3>\n    <div class=\"numbers\">\n      <!-- @slot Optional slot to use as the title rather than showing the resource name -->\n      <slot\n        name=\"title\"\n        :amountTemplateValues=\"amountTemplateValues\"\n        :formattedPercentage=\"formattedPercentage\"\n      >\n        <h4 v-if=\"usedAsResourceName\">\n          {{ resourceName }}\n        </h4>\n        <span v-else>{{ t('node.detail.glance.consumptionGauge.used') }}</span>\n        <span class=\"numbers-stats\">\n          {{ t('node.detail.glance.consumptionGauge.amount', amountTemplateValues) }}\n          <span class=\"percentage\"><i>/&nbsp;</i>{{ formattedPercentage }}</span>\n        </span>\n      </slot>\n    </div>\n    <div class=\"mt-10\">\n      <PercentageBar\n        :modelValue=\"percentageBarValue\"\n        :color-stops=\"colorStops\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.consumption-gauge {\n  .numbers {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n    &-stats {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      gap: 10px;\n      align-self: baseline;\n\n    }\n\n    .percentage {\n      font-weight: bold;\n      i {\n        margin-right: 10px;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./ConsumptionGauge.vue?vue&type=template&id=0160c554\"\nimport script from \"./ConsumptionGauge.vue?vue&type=script&lang=js\"\nexport * from \"./ConsumptionGauge.vue?vue&type=script&lang=js\"\n\nimport \"./ConsumptionGauge.vue?vue&type=style&index=0&id=0160c554&lang=scss\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./PercentageBar.vue?vue&type=style&index=0&id=4ade54a6&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b37b1fae\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./DashboardOptions.vue?vue&type=style&index=0&id=f155ff46&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0fc0e1d4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".graph-options[data-v-f155ff46],.graph-options .range-refresh[data-v-f155ff46]{display:flex;flex-direction:row;justify-content:flex-end}.graph-options[data-v-f155ff46]{justify-content:space-between;align-items:center}.graph-options .labeled-select[data-v-f155ff46]{width:100px;margin-left:10px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\r\nimport DashboardOptions from '@shell/components/DashboardOptions';\r\nimport GrafanaDashboard from '@shell/components/GrafanaDashboard';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  components: { DashboardOptions, GrafanaDashboard },\r\n  props:      {\r\n    detailUrl: {\r\n      type:     String,\r\n      required: true,\r\n    },\r\n    summaryUrl: {\r\n      type:    String,\r\n      default: '',\r\n    },\r\n    vars: {\r\n      type:    Object,\r\n      default: () => ({})\r\n    },\r\n    graphHeight: {\r\n      type:     String,\r\n      required: true\r\n    },\r\n    hasSummaryAndDetail: {\r\n      type:    Boolean,\r\n      default: true,\r\n    },\r\n    // change the grafana url prefix for local clusters in certain monitoring versions\r\n    // project monitoring (projectHelmCharts) supply a grafana url that never needs to be modified in this way\r\n    modifyPrefix: {\r\n      type:    Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      graphOptions: {\r\n        range: '5m', refreshRate: '30s', type: 'detail'\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['prefs/theme']),\r\n    graphBackgroundColor() {\r\n      return this.theme === 'dark' ? '#2e3035' : '#f3f4f9';\r\n    },\r\n    theme() {\r\n      return this['prefs/theme'];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"dashboard-metrics\"\r\n    :class=\"!hasSummaryAndDetail && 'external-link-pull-left'\"\r\n  >\r\n    <div class=\"graph-options mb-10\">\r\n      <DashboardOptions\r\n        v-model:value=\"graphOptions\"\r\n        :has-summary-and-detail=\"hasSummaryAndDetail\"\r\n      />\r\n    </div>\r\n    <div class=\"info\">\r\n      <slot />\r\n    </div>\r\n    <div\r\n      class=\"graphs\"\r\n      :style=\"{height: graphHeight}\"\r\n    >\r\n      <GrafanaDashboard\r\n        v-if=\"graphOptions.type === 'detail'\"\r\n        key=\"'detail'\"\r\n        class=\"col span-12 detail\"\r\n        :background-color=\"graphBackgroundColor\"\r\n        :theme=\"theme\"\r\n        :refresh-rate=\"graphOptions.refreshRate\"\r\n        :range=\"graphOptions.range\"\r\n        :url=\"detailUrl\"\r\n        :vars=\"vars\"\r\n        :modify-prefix=\"modifyPrefix\"\r\n      />\r\n      <GrafanaDashboard\r\n        v-else\r\n        key=\"'summary'\"\r\n        class=\"col span-12 summary\"\r\n        :background-color=\"graphBackgroundColor\"\r\n        :theme=\"theme\"\r\n        :refresh-rate=\"graphOptions.refreshRate\"\r\n        :range=\"graphOptions.range\"\r\n        :url=\"summaryUrl\"\r\n        :vars=\"vars\"\r\n        :modify-prefix=\"modifyPrefix\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard-metrics {\r\n  & :deep() {\r\n    .external-link {\r\n      position: absolute;\r\n      left: 200px;\r\n      top: -45px;\r\n    }\r\n\r\n    .frame {\r\n      top: 0;\r\n    }\r\n  }\r\n}\r\n\r\n.dashboard-metrics.external-link-pull-left {\r\n  & :deep() {\r\n    .external-link {\r\n      position: absolute;\r\n      left: 10px;\r\n      top: -47px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<script>\r\nimport ButtonGroup from '@shell/components/ButtonGroup';\r\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\r\n\r\nexport default {\r\n  components: { ButtonGroup, LabeledSelect },\r\n  props:      {\r\n    value: {\r\n      type:     Object,\r\n      required: true,\r\n    },\r\n    hasSummaryAndDetail: {\r\n      type:    Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      range:        null,\r\n      rangeOptions: [\r\n        {\r\n          label: this.t('generic.units.time.5m'),\r\n          value: '5m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1h'),\r\n          value: '1h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.6h'),\r\n          value: '6h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1d'),\r\n          value: '1d',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.7d'),\r\n          value: '7d',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.30d'),\r\n          value: '30d',\r\n        },\r\n      ],\r\n      refreshOptions: [\r\n        {\r\n          label: this.t('generic.units.time.5s'),\r\n          value: '5s',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.10s'),\r\n          value: '10s',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.30s'),\r\n          value: '30s',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1m'),\r\n          value: '1m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.5m'),\r\n          value: '5m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.15m'),\r\n          value: '15m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.30m'),\r\n          value: '30m',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1h'),\r\n          value: '1h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.2h'),\r\n          value: '2h',\r\n        },\r\n        {\r\n          label: this.t('generic.units.time.1d'),\r\n          value: '1d',\r\n        }\r\n      ],\r\n      detailSummaryOptions: [\r\n        {\r\n          label: this.t('graphOptions.detail'),\r\n          value: 'detail'\r\n        },\r\n        {\r\n          label: this.t('graphOptions.summary'),\r\n          value: 'summary'\r\n        }\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"graph-options\">\r\n    <div v-if=\"hasSummaryAndDetail\">\r\n      <ButtonGroup\n        v-model:value=\"value.type\"\n        :options=\"detailSummaryOptions\"\n      />\r\n    </div>\r\n    <div v-else>\r\n      <div />\r\n    </div>\r\n    <div class=\"range-refresh\">\r\n      <LabeledSelect\n        v-model:value=\"value.range\"\n        :options=\"rangeOptions\"\n        :label=\"t('graphOptions.range')\"\n      />\r\n      <LabeledSelect\n        v-model:value=\"value.refreshRate\"\n        :options=\"refreshOptions\"\n        :label=\"t('graphOptions.refresh')\"\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n.graph-options {\r\n    &, .range-refresh {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: flex-end;\r\n    }\r\n\r\n    & {\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n    .labeled-select {\r\n        width: 100px;\r\n        margin-left: 10px;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./DashboardOptions.vue?vue&type=template&id=f155ff46&scoped=true\"\nimport script from \"./DashboardOptions.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardOptions.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardOptions.vue?vue&type=style&index=0&id=f155ff46&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f155ff46\"]])\n\nexport default __exports__","<script>\r\nimport Loading from '@shell/components/Loading';\r\nimport { Banner } from '@components/Banner';\r\nimport { computeDashboardUrl } from '@shell/utils/grafana';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\nexport default {\r\n  components: { Banner, Loading },\r\n  props:      {\r\n    url: {\r\n      type:     String,\r\n      required: true,\r\n    },\r\n    vars: {\r\n      type:    Object,\r\n      default: () => ({})\r\n    },\r\n    range: {\r\n      type:    String,\r\n      default: null\r\n    },\r\n    refreshRate: {\r\n      type:    String,\r\n      default: null\r\n    },\r\n    // change the grafana url prefix for local clusters in certain monitoring versions\r\n    // project monitoring (projectHelmCharts) supply a grafana url that never needs to be modified in this way\r\n    modifyPrefix: {\r\n      type:    Boolean,\r\n      default: true\r\n    },\r\n    backgroundColor: {\r\n      type:    String,\r\n      default: '#1b1c21'\r\n    },\r\n    theme: {\r\n      type:    String,\r\n      default: 'dark'\r\n    }\r\n  },\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentProduct'].inStore;\r\n\r\n    if (this.$store.getters[`${ inStore }/canList`](CATALOG.APP)) {\r\n      try {\r\n        const res = await this.$store.dispatch(`${ inStore }/find`, { type: CATALOG.APP, id: 'cattle-monitoring-system/rancher-monitoring' });\r\n\r\n        this.monitoringVersion = res?.currentVersion;\r\n      } catch (err) {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, error: false, interval: null, errorTimer: null, monitoringVersion: ''\r\n    };\r\n  },\r\n  computed: {\r\n    currentUrl() {\r\n      return this.computeUrl();\r\n    },\r\n    grafanaUrl() {\r\n      return this.currentUrl.replace('&kiosk', '');\r\n    },\r\n    graphWindow() {\r\n      return this.$refs.frame?.contentWindow;\r\n    },\r\n    graphHistory() {\r\n      return this.graphWindow?.history;\r\n    },\r\n    graphDocument() {\r\n      return this.graphWindow?.document;\r\n    }\r\n  },\r\n  watch: {\r\n    currentUrl(neu) {\r\n      // Should consider changing `this.graphWindow?.angular` to something like `!loaded && !error`\r\n      // https://github.com/rancher/dashboard/pull/5802\r\n      if (this.graphHistory && this.graphWindow?.angular) {\r\n        this.graphWindow.location.replace(neu);\r\n      }\r\n    },\r\n\r\n    error(neu) {\r\n      if (neu) {\r\n        this.errorTimer = setInterval(() => {\r\n          this.reload();\r\n        }, 45000);\r\n      } else {\r\n        clearInterval(this.errorTimer);\r\n        this.errorTimer = null;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.frame.onload = this.inject;\r\n    this.poll();\r\n  },\r\n  beforeUnmount() {\r\n    if (this.interval) {\r\n      clearInterval(this.interval);\r\n    }\r\n\r\n    if (this.errorTimer) {\r\n      clearInterval(this.errorTimer);\r\n    }\r\n  },\r\n  methods: {\r\n    poll() {\r\n      if (this.interval) {\r\n        clearInterval(this.interval);\r\n        this.interval = null;\r\n      }\r\n\r\n      this.interval = setInterval(() => {\r\n        try {\r\n          const graphWindow = this.$refs.frame?.contentWindow;\r\n\r\n          // Note. getElementsByClassName won't work, following a grafana bump class names are now unique - for example css-2qng6u-panel-container\r\n          const errorElements = graphWindow.document.querySelectorAll('[class$=\"alert-error');\r\n          const errorCornerElements = graphWindow.document.querySelectorAll('[class$=\"panel-info-corner--error');\r\n          const panelInFullScreenElements = graphWindow.document.querySelectorAll('[class$=\"panel-in-fullscreen');\r\n          const panelContainerElements = graphWindow.document.querySelectorAll('[class$=\"panel-container');\r\n          const error = errorElements.length > 0 || errorCornerElements.length > 0;\r\n          const loaded = panelInFullScreenElements.length > 0 || panelContainerElements.length > 0;\r\n          const errorMessageElms = graphWindow.document.getElementsByTagName('pre');\r\n          const errorMessage = errorMessageElms.length > 0 ? errorMessageElms[0].innerText : '';\r\n          const isFailure = errorMessage.includes('\"status\": \"Failure\"');\r\n\r\n          if (error) {\r\n            throw new Error('An error was detected in the iframe');\r\n          }\r\n\r\n          this['loading'] = !loaded;\r\n          this['error'] = isFailure;\r\n        } catch (ex) {\r\n          this['error'] = true;\r\n          this['loading'] = false;\r\n          clearInterval(this.interval);\r\n          this.interval = null;\r\n        }\r\n      }, 100);\r\n    },\r\n    computeFromTo() {\r\n      return {\r\n        from: `now-${ this.range }`,\r\n        to:   `now`\r\n      };\r\n    },\r\n    computeUrl() {\r\n      const embedUrl = this.url;\r\n      const clusterId = this.$store.getters['currentCluster'].id;\r\n      const params = this.computeParams();\r\n\r\n      return computeDashboardUrl(this.monitoringVersion, embedUrl, clusterId, params, this.modifyPrefix);\r\n    },\r\n    computeParams() {\r\n      const params = {};\r\n      const fromTo = this.computeFromTo();\r\n\r\n      if (fromTo.from) {\r\n        params.from = fromTo.from;\r\n      }\r\n\r\n      if (fromTo.to) {\r\n        params.to = fromTo.to;\r\n      }\r\n\r\n      if (this.refreshRate) {\r\n        params.refresh = this.refreshRate;\r\n      }\r\n\r\n      if (Object.keys(this.vars).length > 0) {\r\n        Object.entries(this.vars).forEach((entry) => {\r\n          const paramName = `var-${ entry[0] }`;\r\n\r\n          params[paramName] = entry[1];\r\n        });\r\n      }\r\n\r\n      params.theme = this.theme;\r\n\r\n      return params;\r\n    },\r\n    reload(ev) {\r\n      ev && ev.preventDefault();\r\n      this.$refs.frame.contentWindow.location.reload();\r\n      this.poll();\r\n    },\r\n    injectCss() {\r\n      const style = document.createElement('style');\r\n\r\n      style.innerHTML = `\r\n        body .grafana-app .dashboard-content {\r\n          background: ${ this.backgroundColor };\r\n          padding: 0;\r\n        }\r\n\r\n        body .grafana-app .layout {\r\n          background: ${ this.backgroundColor };\r\n        }\r\n\r\n\r\n        body .grafana-app .dashboard-content .panel-container {\r\n          background-color: initial;\r\n          border: none;\r\n        }\r\n\r\n        body .grafana-app .dashboard-content .panel-wrapper {\r\n          height: 100%;\r\n        }\r\n\r\n        body .grafana-app .panel-menu-container {\r\n          display: none;\r\n        }\r\n\r\n        body .grafana-app .panel-title {\r\n          cursor: default;\r\n        }\r\n\r\n        body .grafana-app .panel-title .panel-title-text div {\r\n          display: none;\r\n        }\r\n      `;\r\n\r\n      const graphWindow = this.$refs.frame?.contentWindow;\r\n      const graphDocument = graphWindow?.document;\r\n\r\n      if (graphDocument.head) {\r\n        graphDocument.head.appendChild(style);\r\n      }\r\n    },\r\n\r\n    inject() {\r\n      this.injectCss();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"grafana-graph\">\r\n    <Banner\r\n      v-if=\"error\"\r\n      color=\"error\"\r\n      style=\"z-index: 1000\"\r\n    >\r\n      <div class=\"text-center\">\r\n        {{ t('grafanaDashboard.failedToLoad') }} <a\r\n          href=\"#\"\r\n          @click=\"reload\"\r\n        >{{ t('grafanaDashboard.reload') }}</a>\r\n      </div>\r\n    </Banner>\r\n    <iframe\r\n      v-show=\"!error\"\r\n      ref=\"frame\"\r\n      :class=\"{loading, frame: true}\"\r\n      :src=\"currentUrl\"\r\n      frameborder=\"0\"\r\n      scrolling=\"no\"\r\n    />\r\n    <div v-if=\"loading\">\r\n      <Loading />\r\n    </div>\r\n    <div\r\n      v-if=\"!loading && !error\"\r\n      class=\"external-link\"\r\n    >\r\n      <!-- https://github.com/harvester/harvester-installer/pull/512/files -->\r\n      <!-- It is necessary to include the parameter referer when accessing the Grafana page. -->\r\n      <!-- This parameter is required by the backend to identify the origin of the request from which cluster -->\r\n      <!-- The matching mechanism as follows: -->\r\n      <!-- ~.*/k8s/clusters/(c-m-.+)/.* -->\r\n      <!-- ~.*/dashboard/harvester/c/(c-m-.+)/.* -->\r\n      <a\r\n        :href=\"grafanaUrl\"\r\n        target=\"_blank\"\r\n        rel=\"noopener nofollow\"\r\n      >{{ t('grafanaDashboard.grafana') }} <i class=\"icon icon-external-link\" /></a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang='scss' scoped>\r\n.grafana-graph {\r\n  position: relative;\r\n  min-height: 100%;\r\n  min-width: 100%;\r\n\r\n  & :deep() .content {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0;\r\n  }\r\n\r\n  & :deep() .overlay {\r\n    position: static;\r\n    background-color: initial;\r\n  }\r\n\r\n  iframe {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 20px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n\r\n    &.loading {\r\n      visibility: hidden;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./GrafanaDashboard.vue?vue&type=template&id=2ba52de3&scoped=true\"\nimport script from \"./GrafanaDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./GrafanaDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./GrafanaDashboard.vue?vue&type=style&index=0&id=2ba52de3&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ba52de3\"]])\n\nexport default __exports__","import { render } from \"./DashboardMetrics.vue?vue&type=template&id=5cdbd67f&scoped=true\"\nimport script from \"./DashboardMetrics.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardMetrics.vue?vue&type=script&lang=js\"\n\nimport \"./DashboardMetrics.vue?vue&type=style&index=0&id=5cdbd67f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cdbd67f\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./ConsumptionGauge.vue?vue&type=style&index=0&id=0160c554&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0177b65e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { haveV2Monitoring } from '@shell/utils/monitoring';\r\nimport { parse as parseUrl, addParam } from '@shell/utils/url';\r\nimport { CATALOG } from '@shell/config/types';\r\n\r\n// these two versions of monitoring included a bug fix attempt that required the local cluster to use a different url\r\n// the solution going forward doesn't require this, see https://github.com/rancher/dashboard/issues/8885\r\nconst MONITORING_VERSION_ALT_URL = ['100.2.0+up40.1.2', '102.0.0+up40.1.2'];\r\n\r\nexport function getClusterPrefix(monitoringVersion, clusterId) {\r\n  if (MONITORING_VERSION_ALT_URL.includes(monitoringVersion)) {\r\n    return `/k8s/clusters/${ clusterId }`;\r\n  }\r\n\r\n  return clusterId === 'local' ? '' : `/k8s/clusters/${ clusterId }`;\r\n}\r\n\r\nexport function computeDashboardUrl(monitoringVersion, embedUrl, clusterId, params, modifyPrefix = true) {\r\n  const url = parseUrl(embedUrl);\r\n\r\n  let newUrl = modifyPrefix ? `${ getClusterPrefix(monitoringVersion, clusterId) }${ url.path }` : url.path;\r\n\r\n  if (url.query.viewPanel) {\r\n    newUrl = addParam(newUrl, 'viewPanel', url.query.viewPanel);\r\n  }\r\n  newUrl = addParam(newUrl, 'orgId', url.query.orgId);\r\n  newUrl = addParam(newUrl, 'kiosk', null);\r\n\r\n  Object.entries(params).forEach((entry) => {\r\n    newUrl = addParam(newUrl, entry[0], entry[1]);\r\n  });\r\n\r\n  return newUrl;\r\n}\r\n\r\nexport async function dashboardExists(monitoringVersion, store, clusterId, embedUrl, storeName = 'cluster', projectId = null) {\r\n  if ( !haveV2Monitoring(store.getters) ) {\r\n    return false;\r\n  }\r\n\r\n  const url = parseUrl(embedUrl);\r\n  let prefix = `${ getClusterPrefix(monitoringVersion, clusterId) }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/`;\r\n  let delimiter = 'http:rancher-monitoring-grafana:80/proxy/';\r\n\r\n  if (projectId) {\r\n    prefix = `${ getClusterPrefix(monitoringVersion, clusterId) }/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/`;\r\n    delimiter = `http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/`;\r\n  }\r\n  const path = url.path.split(delimiter)[1];\r\n  const uid = path.split('/')[1];\r\n  const newUrl = `${ prefix }api/dashboards/uid/${ uid }`;\r\n\r\n  try {\r\n    await store.dispatch(`${ storeName }/request`, { url: newUrl, redirectUnauthorized: false });\r\n\r\n    return true;\r\n  } catch (ex) {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport async function allDashboardsExist(store, clusterId, embeddedUrls, storeName = 'cluster', projectId = null) {\r\n  let res;\r\n\r\n  let monitoringVersion = '';\r\n\r\n  if (!projectId && store.getters[`${ storeName }/canList`](CATALOG.APP)) {\r\n    try {\r\n      res = await store.dispatch(`${ storeName }/find`, {\r\n        type: CATALOG.APP,\r\n        id:   'cattle-monitoring-system/rancher-monitoring'\r\n      });\r\n    } catch (err) {\r\n    }\r\n\r\n    monitoringVersion = res?.currentVersion;\r\n  }\r\n\r\n  const existPromises = embeddedUrls.map((url) => dashboardExists(monitoringVersion, store, clusterId, url, storeName, projectId));\r\n\r\n  return (await Promise.all(existPromises)).every((exists) => exists);\r\n}\r\n\r\nexport function queryGrafana(monitoringVersion, dispatch, clusterId, query, range, step) {\r\n  const url = `${ getClusterPrefix(monitoringVersion, clusterId) }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/api/datasources/proxy/1/api/v1/query_range?query=${ query }&start=${ range.start }&end=${ range.end }&step=${ step }`;\r\n\r\n  return dispatch('cluster/request', { url, redirectUnauthorized: false });\r\n}\r\n\r\nexport async function hasLeader(monitoringVersion, dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (5 * 60);\r\n\r\n  const response = await queryGrafana(monitoringVersion, dispatch, clusterId, 'max(etcd_server_has_leader)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] === '1';\r\n}\r\n\r\nexport async function leaderChanges(monitoringVersion, dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (60 * 60);\r\n\r\n  const response = await queryGrafana(monitoringVersion, dispatch, clusterId, 'max(etcd_server_leader_changes_seen_total)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] || 0;\r\n}\r\n\r\nexport async function failedProposals(monitoringVersion, dispatch, clusterId) {\r\n  const end = Date.now() / 1000;\r\n  const start = end - (60 * 60);\r\n\r\n  const response = await queryGrafana(monitoringVersion, dispatch, clusterId, 'sum(etcd_server_proposals_failed_total)', { start, end }, 30);\r\n\r\n  return response.data.result[0]?.values?.[0]?.[1] || 0;\r\n}\r\n"],"names":["content","__esModule","default","module","id","locals","exports","add","class","key","_createElementBlock","_hoisted_1","_createVNode","_component_Bar","percentage","$props","modelValue","$options","primaryColor","slices","showPercentage","_hoisted_2","_toDisplayString","formattedPercentage","_createCommentVNode","style","_normalizeStyle","barStyle","_createElementVNode","indicatorStyle","_Fragment","_renderList","sliceStyles","sliceStyle","i","props","type","Number","required","String","secondaryColor","Array","computed","width","this","backgroundColor","map","slice","left","visibility","__exports__","PreferredDirection","LESS","MORE","components","Bar","validator","value","preferredDirection","Boolean","colorStops","Object","isLess","thresholds","keys","sort","length","threshold","right","formatPercent","render","___CSS_LOADER_EXPORT___","push","Poller","constructor","fn","pollRateMs","maxRetries","POSITIVE_INFINITY","_defineProperty","start","stop","_intervalMethod","intervalId","setInterval","clearInterval","undefined","tryCount","ex","console","error","METRICS_POLL_RATE_MS","MAX_FAILURES","data","metricPoller","mounted","loadMetrics","beforeUnmount","resourceName","usedAsResourceName","_hoisted_3","_renderSlot","_ctx","$slots","amountTemplateValues","_hoisted_4","_hoisted_5","t","_hoisted_6","_createTextVNode","_hoisted_7","_hoisted_8","_component_PercentageBar","percentageBarValue","PercentageBar","capacity","used","units","numberFormatter","Function","isInteger","toFixed","defaut","displayUnits","total","unit","_normalizeClass","hasSummaryAndDetail","_component_DashboardOptions","$data","graphOptions","_cache","$event","height","graphHeight","_createBlock","_component_GrafanaDashboard","graphBackgroundColor","theme","refreshRate","range","url","detailUrl","vars","modifyPrefix","summaryUrl","_component_ButtonGroup","options","detailSummaryOptions","_component_LabeledSelect","rangeOptions","label","refreshOptions","ButtonGroup","LabeledSelect","_component_Banner","color","_withCtx","href","onClick","args","reload","_","ref","loading","frame","src","currentUrl","frameborder","scrolling","_component_Loading","grafanaUrl","target","rel","Banner","Loading","fetch","inStore","$store","getters","CATALOG","APP","res","dispatch","monitoringVersion","currentVersion","err","interval","errorTimer","computeUrl","replace","graphWindow","$refs","contentWindow","graphHistory","history","graphDocument","document","watch","neu","angular","location","onload","inject","poll","methods","errorElements","querySelectorAll","errorCornerElements","panelInFullScreenElements","panelContainerElements","loaded","errorMessageElms","getElementsByTagName","errorMessage","innerText","isFailure","includes","Error","computeFromTo","from","to","embedUrl","clusterId","params","computeParams","computeDashboardUrl","fromTo","refresh","entries","forEach","entry","paramName","ev","preventDefault","injectCss","createElement","innerHTML","head","appendChild","DashboardOptions","GrafanaDashboard","mapGetters","MONITORING_VERSION_ALT_URL","getClusterPrefix","parseUrl","newUrl","path","query","viewPanel","addParam","orgId","async","dashboardExists","store","storeName","projectId","haveV2Monitoring","prefix","delimiter","split","uid","redirectUnauthorized","allDashboardsExist","embeddedUrls","existPromises","Promise","all","every","exists"],"sourceRoot":""}